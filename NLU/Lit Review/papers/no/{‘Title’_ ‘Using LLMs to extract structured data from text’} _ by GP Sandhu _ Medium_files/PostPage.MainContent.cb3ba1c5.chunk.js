(self.webpackChunklite=self.webpackChunklite||[]).push([[5531],{38125:(e,n,i)=>{var t=i(14259);e.exports=function(e){return null!=e&&e.length?t(e,0,-1):[]}},45578:(e,n,i)=>{var t=i(67206),a=i(45652);e.exports=function(e,n){return e&&e.length?a(e,t(n,2)):[]}},68254:e=>{"use strict";var n=Math.floor(1099511627776*Math.random()).toString(16),i=new RegExp('"@__(F|R|D|M|S|U)-'+n+'-(\\d+)__@"',"g"),t=/\{\s*\[native code\]\s*\}/g,a=/function.*?\(/,o=/.*?=>.*?/,l=/[<>\/\u2028\u2029]/g,r=["*","async"],d={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\u2028":"\\u2028","\u2029":"\\u2029"};function s(e){return d[e]}e.exports=function e(d,m){m||(m={}),"number"!=typeof m&&"string"!=typeof m||(m={space:m});var c,u=[],p=[],k=[],v=[],g=[],f=[];return m.ignoreFunction&&"function"==typeof d&&(d=void 0),void 0===d?String(d):"string"!=typeof(c=m.isJSON&&!m.space?JSON.stringify(d):JSON.stringify(d,m.isJSON?null:function(e,i){if(m.ignoreFunction&&function(e){var n=[];for(var i in e)"function"==typeof e[i]&&n.push(i);for(var t=0;t<n.length;t++)delete e[n[t]]}(i),!i&&void 0!==i)return i;var t=this[e],a=typeof t;if("object"===a){if(t instanceof RegExp)return"@__R-"+n+"-"+(p.push(t)-1)+"__@";if(t instanceof Date)return"@__D-"+n+"-"+(k.push(t)-1)+"__@";if(t instanceof Map)return"@__M-"+n+"-"+(v.push(t)-1)+"__@";if(t instanceof Set)return"@__S-"+n+"-"+(g.push(t)-1)+"__@"}return"function"===a?"@__F-"+n+"-"+(u.push(t)-1)+"__@":"undefined"===a?"@__U-"+n+"-"+(f.push(t)-1)+"__@":i},m.space))?String(c):(!0!==m.unsafe&&(c=c.replace(l,s)),0===u.length&&0===p.length&&0===k.length&&0===v.length&&0===g.length&&0===f.length?c:c.replace(i,(function(n,i,l){return"D"===i?'new Date("'+k[l].toISOString()+'")':"R"===i?"new RegExp("+e(p[l].source)+', "'+p[l].flags+'")':"M"===i?"new Map("+e(Array.from(v[l].entries()),m)+")":"S"===i?"new Set("+e(Array.from(g[l].values()),m)+")":"U"===i?"undefined":function(e){var n=e.toString();if(t.test(n))throw new TypeError("Serializing native function: "+e.name);if(a.test(n))return n;if(o.test(n))return n;var i=n.indexOf("("),l=n.substr(0,i).trim().split(" ").filter((function(e){return e.length>0}));return l.filter((function(e){return-1===r.indexOf(e)})).length>0?(l.indexOf("async")>-1?"async ":"")+"function"+(l.join("").indexOf("*")>-1?"*":"")+n.substr(i):n}(u[l])})))}},41116:(e,n,i)=>{"use strict";i.d(n,{j:()=>l});var t=i(67294),a=i(47230),o=i(77355),l=function(e){var n=e.children,i=e.href,l=e.width,r=void 0===l?{xs:"100%",sm:"100%",md:"min-width",lg:"min-width",xl:"min-width"}:l;return t.createElement(a.zx,{href:i,buttonStyle:"SUBTLE",width:r},t.createElement(o.x,{textAlign:"center"},n))}},90356:(e,n,i)=>{"use strict";i.r(n),i.d(n,{MainContent:()=>Do,useLoader:()=>Co});var t=i(59713),a=i.n(t),o=i(64718),l=i(67294),r=i(5977),d=i(92030),s=i(1630),m=i(90732),c=i(5911),u=i(8575),p=i(90833),k=i(77280),v=i(43487),g=i(78870);function f(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function S(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?f(Object(i),!0).forEach((function(n){a()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var N=["blog.coinbase.com","moody-pub.medium.fail"],h=function(e){var n=e.post.mediumUrl,i=e.matchedPath,t=e.children,a=(0,v.v9)((function(e){return e.navigation.currentHash})),o=(0,k.Wd)("postPublishedType"),r=(0,k.Wd)("responsesOpen"),d=(0,k.PM)(),m=(0,k.G1)(),c=(0,v.v9)((function(e){return e.navigation.host})),f=(0,g.mb)();if(!n||f)return t;var h=u.parse(decodeURIComponent(n)),y=S(S(S(S({},d?{source:d}:{}),m?{sk:m}:{}),o?{postPublishedType:o}:{}),r?{responsesOpen:r}:{});return c!==h.host?N.indexOf(c)>-1?l.createElement(s.$,null):l.createElement(p.l,{to:(0,g.Rk)(n,y,a),replace:!0,isMediumApp:!0}):h.path&&i!==h.path?l.createElement(p.l,{to:(0,g.Rk)(h.path,y,a),replace:!0}):t},y=i(319),x=i.n(y),b=i(94078),E={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterClickable_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat(x()([{kind:"FragmentDefinition",name:{kind:"Name",value:"UpsellClickable_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]))},F=i(68216),w={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FriendLinkSharer_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat(x()(F.$m.definitions))},P={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FriendLinkMeter_postContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostContent"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"shareKeyCreator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkSharer_user"}}]}}]}}].concat(x()(w.definitions))},_={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FriendLinkMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkMeter_postContent"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkSharer_user"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MeterClickable_post"}}]}}].concat(x()(P.definitions),x()(w.definitions),x()(E.definitions))},T={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostViewerEdgeContentQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"fullContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkMeter_postContent"}}]}}]}}]}}]}}]}}].concat(x()(b.Pk.definitions),x()(P.definitions))},I=function(){var e,n,i,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=(0,v.v9)((function(e){return e.navigation.referrer})),d=null!==(e=(0,k.G1)())&&void 0!==e?e:void 0,s=null!==(n=(0,k.PM)())&&void 0!==n?n:void 0,m={referrer:r,sk:d,source:s},c=!l&&!d,u=(0,o.a)(T,{variables:{postId:a,postMeteringOptions:m},ssr:!1,skip:!a||c}),p=u.loading,g=u.error,f=u.data,S=null==f||null===(i=f.post)||void 0===i||null===(t=i.viewerEdge)||void 0===t?void 0:t.fullContent;return p?{loading:p}:g?{error:g}:{content:S}},O=i(96370),C=i(66411),D=i(50458),R=i(93513),A=i(6280),M=i(77355),B=i(29746),L=function(e){var n=e.isDockingEnabled,i=void 0!==n&&n,t=e.undockedBackgroundColor,a=e.maxWidthSize,o=void 0===a?"inset":a,r=e.children,d=e.marginBottom,s=void 0===d?{xs:"10px",sm:"10px",md:"26px",lg:"26px",xl:"26px"}:d,m=(0,A.$)(i),c=m.dockRef,u=m.markerRef,p=m.isStuck;return l.createElement(l.Fragment,null,l.createElement(M.x,{ref:u}),l.createElement(M.x,{tag:"footer",ref:c,display:"flex",alignItems:"center",boxSizing:"content-box",height:(0,B.a)(R.T),maxHeight:(0,B.a)(R.T),zIndex:"1",position:i?{xs:"static",sm:"static",md:"sticky",lg:"sticky",xl:"sticky"}:"static",bottom:i?{xs:void 0,sm:void 0,md:"0",lg:"0",xl:"0"}:void 0,backgroundColor:p?"BACKGROUND":t,borderTop:p?{xs:"NONE",sm:"NONE",md:"BASE_LIGHTER",lg:"BASE_LIGHTER",xl:"BASE_LIGHTER"}:"NONE",marginBottom:s},l.createElement(M.x,{flexGrow:"1"},l.createElement(O.P,{size:o},r))))},V=i(63038),j=i.n(V),U=i(67154),W=i.n(U),H=i(27517),G=i(25735),z=i(6443),Y=i(39727),Z=i(39507),K=i(37597),q=i(93310),X=i(47230),Q=i(91583),J=i(18635),$=i(87691),ee=i(54945),ne=i(34135),ie=i(75221),te=i(78285),ae=i(78142),oe=i(38993),le=i(21254),re=i(95445),de={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostPublishedDialogQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishedDialog_post"}}]}}]}}].concat(x()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishedDialog_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToCatalogResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"curationEligibleAt"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isPublishToEmail"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isMarkedPaywallOnly"}}]}}]))},se=function(){return l.createElement(M.x,null,l.createElement(q.r,{inline:!0,linkStyle:"OBVIOUS",href:(0,D.Sc)()},"Learn more")," ","about what happens to your post when you publish.")};var me,ce=function(e){var n=e.url,i=e.label,t=e.post,a=e.isFriendLink,o=void 0!==a&&a,r=e.testId,d=(0,G.V)({name:"enable_premium_tier",placeholder:!1}),s={postId:null==t?void 0:t.id,source:"post_publish_dialog"},m=o&&d,c=d&&!o;return l.createElement(re.b,W()({url:n},s),(function(e){return l.createElement(M.x,{marginBottom:"8px"},l.createElement(X.zx,{"data-testid":null!=r?r:"publishSuccessCopyLinkButton",buttonStyle:"SOCIAL",size:"LARGE",padding:X.He,width:X.hU,onClick:function(e){return e}},l.createElement(M.x,{display:"flex",alignItems:"center",justifyContent:d?"space-between":"center"},m?l.createElement(oe.Z,null):c?l.createElement(le.Z,null):null,e?"Copied!":i,d&&l.createElement(M.x,{height:"24px",width:"24px"}))))}))},ue=function(e){var n=e.post,i=e.isUnlisted,t=e.postPath;return l.createElement(M.x,{display:"flex",flexDirection:"column",alignItems:"center"},l.createElement($.F,{color:"DARKER",scale:"L"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(i)),l.createElement(M.x,{marginTop:"20px"},!i&&l.createElement(l.Fragment,null,l.createElement(K.f,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",postId:n.id,testId:"publishSuccessShareFbButton"}),l.createElement(M.x,{marginBottom:"12px"}),l.createElement(K.f,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",postId:n.id,testId:"publishSuccessShareTwitterButton"}),l.createElement(M.x,{marginBottom:"12px"}),l.createElement(K.f,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",postId:n.id,testId:"publishSuccessShareLinkedinButton"}),l.createElement(M.x,{marginBottom:"12px"})),l.createElement(ce,{url:t,label:"Copy link",post:n})))},pe=function(e){var n=e.viewerId,i=e.isVisible,t=e.hide,a=e.post,o=a.id,r=a.visibility,d=a.curationEligibleAt,s=a.mediumUrl,m=a.isNewsletter,c=a.isPublishToEmail,u=a.isMarkedPaywallOnly,p=a.creator,k=(0,Z.T)(a),f=k.viewerEdge,S=k.loading,N="UNLISTED"===r,h=!!d,y=(null==f?void 0:f.creatorPartnerProgramEnrollmentStatus)===ie.iR.ENROLLED,x=null==f?void 0:f.shareKey,b=(0,v.v9)((function(e){return e.config.productName})),E="Your story is published!";return c&&n===(null==p?void 0:p.id)?E="Your story has been published and sent!":m&&(E="Your newsletter is on its way!"),S?null:l.createElement(Q.V,{isVisible:i,hide:t,withAnimation:!0,withCloseButton:!1},l.createElement(M.x,{background:ae.ix,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,ae.Uy)(.15)),position:"relative",textAlign:"center",width:{xs:"calc(100vw - 128px)",sm:"calc(100vw - 128px)",md:"600px",lg:"900px",xl:"900px"}},l.createElement(M.x,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},l.createElement(M.x,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},l.createElement(ee.H2,{scale:"L",tag:"h3",testId:"publishSuccessTitleText"},E),l.createElement(M.x,{maxWidth:"520px",marginTop:"20px"},l.createElement($.F,{color:"DARKER",scale:"L",testId:"publishSuccessBodyText"},function(e,n,i,t,a,o){return t?function(e,n){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(n,"."):l.createElement(l.Fragment,null,"Your subscribers and editors should have it soon. It’ll also show up on ",n," readers’ homepages and Digest emails depending on their interests."," ",l.createElement(q.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,o):e?"Your unlisted story will not appear publicly on ".concat(o,", but you can still share it."):a?"You've chosen this story to be member-only. Anyone can see a short preview but only paying members can read the full story.":i?n?l.createElement(l.Fragment,null,"As a member of the Partner Program, you’ve chosen to make this story eligible to earn money. It will be part of ",o,"’s metered paywall.",l.createElement(se,null)):l.createElement(l.Fragment,null,"You did not choose to make this story eligible to earn money. It will not be part of"," ",o,"’s metered paywall.",l.createElement(se,null)):l.createElement(l.Fragment,null,"This story isn’t currently eligible to earn money. To make this story eligible, join the"," ",o," Partner Program."," ",l.createElement(q.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(N,h,y,m,null!=u&&u,b))),l.createElement(M.x,{paddingTop:"20px"},h&&!N&&s&&x&&l.createElement(ce,{url:(0,g.Rk)((0,D.jV)(a),{sk:x}),label:"Copy Friend Link",post:a,isFriendLink:!0,testId:"publishSuccessCopyFriendLinkButton"})),l.createElement(M.x,{borderBottom:"BASE_LIGHTER",width:"100%",margin:"20px 0"})),o&&s&&l.createElement(ue,{post:a,isUnlisted:N,postPath:(0,D.jV)(a)})),l.createElement(J.P,{onClick:t,size:"LARGE",testId:"publishSuccessCloseButton"})))};!function(e){e.initial="initial",e.repub="repub"}(me||(me={}));var ke=function(e){var n,i=e.post,t=(0,o.a)(de,{variables:{postId:i.id}}),a=t.data,r=(a=void 0===a?{}:a).post,d=t.loading,s=(0,z.H)().value,m=(0,l.useState)(!1),c=j()(m,2),u=c[0],p=c[1],v=(0,l.useCallback)((function(){return p(!1)}),[p]),g=(0,H.I0)(),f=(0,k.Wd)("postPublishedType"),S=(0,Y.g)(i.collection).viewerEdge,N=(null==s?void 0:s.id)===(null===(n=i.creator)||void 0===n?void 0:n.id)||i.collection&&(null==S?void 0:S.isEditor);(0,l.useEffect)((function(){switch(f){case me.initial:p(!0);break;case me.repub:g((0,te.Dx)({duration:3e3,message:"Your changes have been published."}))}}),[f]);var h=(0,l.useState)(!1),y=j()(h,2),x=y[0],b=y[1];return x?d||!r||r.inResponseToPostResult||r.inResponseToCatalogResult?null:s&&N?l.createElement(pe,{isVisible:u,hide:v,post:r,viewerId:s.id}):null:(ne.V6.on("load",(function(){return b(!0)})),null)},ve=i(52439),ge=i(8851),fe=i(68550),Se=i(31889),Ne=/rgba\(([\d]+),\s*([\d]+),\s*([\d]+),\s*([\d]+|[\d]*.[\d]+)\)/,he=function(e){var n,i,t=e.children,a=e.forwardedRef,o=e.margin,r=(0,Se.F)();return l.createElement(l.Fragment,null,l.createElement(M.x,{marginTop:"-240px",background:"linear-gradient(".concat((n=r.backgroundColor,i=n.match(Ne),i?"rgba(".concat(i[1],", ").concat(i[2],", ").concat(i[3],", 0)"):(0,ae.l9)(0)),", ").concat(r.backgroundColor,")"),height:"250px",position:"relative",width:"100%"}),l.createElement(M.x,{backgroundColor:"BACKGROUND",ref:a},l.createElement(M.x,{margin:"auto",maxWidth:"760px",sm:{margin:null!=o?o:"0 24px 0"}},t)))},ye=(0,l.forwardRef)((function(e,n){return l.createElement(he,W()({},e,{forwardedRef:n}))})),xe=(0,l.memo)(ye),be=i(43822),Ee=i(18627),Fe=i(39944),we=function(e){var n=e.postId,i=e.align,t=e.entityId,a=e.id,o=e.buttonStyle,r=void 0===o?"STRONG":o,d=e.onClick,s=(0,z.H)().value,m=(0,Ee.A)(),c=(0,v.v9)((function(e){return e.config.authDomain})),u=null==s?void 0:s.hasPastMemberships,p=(0,g.Rk)((0,D.c5)(c),{subscribeToUserId:t||"",susiEntry:"post_paywall"}),k=l.useCallback((function(){m.event("paywall.upgradeClicked",{postId:n,userId:null==s?void 0:s.id}),null==d||d()}),[n,null==s?void 0:s.id]),f=u?"182px":"104px",S=u?"Resume membership":"Upgrade";return l.createElement(Fe.M,{source:"upgrade_membership",dimension:"post_limit",sourceProviderData:{postId:n},eventData:{postId:n}},l.createElement(M.x,{display:"flex",textAlign:"center",justifyContent:"left"===i?"flex-start":"center"},l.createElement(be.a,{isButton:!0,onClick:k,buttonStyle:r,width:f,redirectUrl:p,id:a},S)))},Pe=i(14818),_e=i(14646),Te=i(18122),Ie=i(76689),Oe=i(17583),Ce=function(){return{flexShrink:0,marginRight:"12px"}},De=function(e){var n=e.headerText,i=e.reasonsToUpgrade,t=e.paywall,a=e.postId,o=(0,_e.I)(),r=(0,Oe.s)(),d="xs"===r||"sm"===r,s=(0,l.useMemo)((function(){var e=(null==t?void 0:t.creatorSpotlights)||[];return d&&e.length>6?e.filter((function(e){return!e.hideOnSmallScreen})):e}),[d,t]),m=(0,l.useMemo)((function(){return["Access all member-only stories on Medium"].concat(x()(i))}),[i]),c=(0,z.H)().value,u=(0,Ee.A)(),p=(0,l.useCallback)((function(){u.event("paywall.presented",{type:t.type,userId:null==c?void 0:c.id})}),[t.type,null==c?void 0:c.id]),k=(0,Te.g)({onPresentedFn:p});return l.createElement(xe,{margin:"0 -24px",ref:k},l.createElement(M.x,{display:"flex",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},l.createElement(M.x,{display:"flex",flexDirection:"column",padding:{xs:"28px 33px 32px",sm:"28px 33px 32px",md:"32px",lg:"32px",xl:"32px"},marginTop:"32px",textAlign:"center",borderRadius:"4px",maxWidth:"100%"},l.createElement(ee.H2,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},n),l.createElement(M.x,{marginTop:"32px"},l.createElement($.F,{scale:"M",color:"DARKER"},"The author made this story available to Medium members only. Upgrade to instantly unlock this story plus other member-only benefits.")),l.createElement(M.x,{margin:"22px auto 34px"},m.map((function(e,n){return l.createElement(M.x,{display:"flex",alignItems:"center",key:"reason-".concat(n),marginTop:"12px",textAlign:"left"},l.createElement(Ie.Z,{className:o(Ce)}),l.createElement($.F,{scale:"M",color:"DARKER"},e))}))),l.createElement(M.x,{display:"flex",justifyContent:"space-between",flexWrap:"wrap",marginBottom:"30px"},s.map((function(e){return l.createElement(M.x,{key:e.name,display:"flex",alignItems:"center",flexDirection:"column",flexGrow:"1",flexShrink:"1",flexBasis:d?"33%":"25%",marginBottom:"32px","data-testid":"creator-spotlight"},l.createElement(Pe.z,{alt:e.name,miroId:e.miroId,diameter:64}),l.createElement(M.x,{marginTop:"8px",textAlign:"center"},l.createElement($.F,{scale:d?"S":"M",color:"DARKER"},e.name),l.createElement($.F,{scale:"XS"},e.title),e.company&&l.createElement($.F,{scale:"XS"},e.company)))}))),l.createElement(we,{id:"paywallButton-programming",postId:a,align:"center",buttonStyle:"STRONG"}))))},Re=i(57142),Ae=["Dive deeper into the topics that matter to you",l.createElement(l.Fragment,null,"Get in-depth articles answering thousands of questions"),"Achieve your personal and professional goals"],Me=function(e){var n,i=e.paywall,t=e.post,a=(0,z.H)().value,o=function(e,n){var i=e?(0,Re.J)(e):null;i=i&&i.length<=13?i:null;var t=n?" from ".concat(n):"";return i?"".concat(i,", read this story").concat(t," — and all the best stories on Medium."):"Read this story".concat(t," — and all the best stories on Medium.")}(null==a?void 0:a.name,null===(n=t.creator)||void 0===n?void 0:n.name);return l.createElement(De,{headerText:o,reasonsToUpgrade:Ae,paywall:i,postId:t.id})},Be=function(e){switch(e){case"javascript":return"JavaScript";case"ios-development":return"iOS development";case"android-development":return"Android development";default:return e.replace("-"," ").toLowerCase()}},Le=function(e){var n,i,t=e.paywall,a=e.post,o=(0,z.H)().value,r=null!==(n=null===(i=a.primaryTopic)||void 0===i?void 0:i.slug)&&void 0!==n?n:null,d=function(e,n){var i=e?(0,Re.J)(e):null;if(i=i&&i.length<=13?i:null,n){var t=Be(n);return i?"".concat(i,", read the best stories about ").concat(t," from industry leaders on Medium."):"Read the best stories about ".concat(t," from industry leaders on Medium.")}return i?"".concat(i,", read the best stories from industry leaders on Medium."):"Read the best stories from industry leaders on Medium."}(null==o?void 0:o.name,r),s=(0,l.useMemo)((function(){return function(e){var n=e?Be(e):"technical";return["Become an expert in your areas of interest","Get in-depth answers to thousands of questions about ".concat(n),"Grow your career or build a new one"]}(r)}),[r]);return l.createElement(De,{headerText:d,reasonsToUpgrade:s,paywall:t,postId:a.id})},Ve=i(6402),je=[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityPaywall_paywall"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostPaywall"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorSpotlights"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"company"}},{kind:"Field",name:{kind:"Name",value:"miroId"}},{kind:"Field",name:{kind:"Name",value:"hideOnSmallScreen"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}],Ue={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AspirationalPaywall_paywall"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostPaywall"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityPaywall_paywall"}}]}}].concat(x()(je))},We={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProgrammingPaywall_paywall"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostPaywall"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityPaywall_paywall"}}]}}].concat(x()(je))},He={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Paywall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}}]}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"AspirationalPaywall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ProgrammingPaywall_post"}}]}}].concat(x()([{kind:"FragmentDefinition",name:{kind:"Name",value:"AspirationalPaywall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]),x()([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProgrammingPaywall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]))},Ge={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Paywall"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"paywall"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AspirationalPaywall_paywall"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ProgrammingPaywall_paywall"}}]}}]}}]}}]}}].concat(x()(Ue.definitions),x()(We.definitions))},ze=function(e){var n,i=e.post,t=(0,z.H)().value,a=(0,Ee.A)();(0,l.useEffect)((function(){a.event("paywall.viewed",{userId:null==t?void 0:t.id})}),[]);var r=(0,o.a)(Ge,{ssr:!1,variables:{postId:i.id}}),d=r.data,s=r.error,m=r.loading;(0,l.useEffect)((function(){s&&Ve.k.error({error:s},"Paywall query error")}),[s]);var c=(0,l.useState)(!1),u=j()(c,2),p=u[0],k=u[1],v=(0,l.useCallback)((function(e,n){p||(k(!0),Ve.k.error(e,n))}),[p]),g=null==d||null===(n=d.post)||void 0===n?void 0:n.viewerEdge.paywall;if(s||m||!g)return null;switch(g.type){case ie.zB.PROGRAMMING:return l.createElement(Le,{paywall:g,post:i});case ie.zB.ASPIRATIONAL:return l.createElement(Me,{paywall:g,post:i});default:return v({paywall:g},"Unknown paywall type"),null}},Ye=i(39610),Ze=i(26350),Ke=i(28451),qe=i(54935),Xe=i(27393),Qe=i(69862),Je=i(40578),$e=i(40980),en=function(e){var n=e.postId,i=e.susiEntry,t="register",a={operation:t,postId:n},o=(0,qe.j)().openModal;return l.createElement(M.x,{display:"flex",flexDirection:"column",textAlign:"center",margin:{xs:"32px 0",sm:"32px 0",md:"64px 0",lg:"64px 0",xl:"64px"}},l.createElement($e.$,{eventData:a},l.createElement(Je.x,{operation:t})),l.createElement(M.x,{marginTop:"10px",sm:{marginTop:"12px"}},l.createElement($e.$,{eventData:a},l.createElement(Qe.q,{operation:t}))),l.createElement(M.x,{marginTop:"10px",sm:{marginTop:"12px"}},l.createElement($e.$,{eventData:a},l.createElement(Xe.R,{goToEmailAuthStep:function(){o({step:"ENTER_EMAIL",susiEntry:i,operation:t})},operation:t}))))},nn="post_regwall",tn=function(e){var n=e.post,i=(0,Ee.A)(),t="LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,a=(0,v.v9)((function(e){return e.navigation.susiEmail}));(0,l.useEffect)((function(){i.event("meter.viewed",{meterCount:0,postId:n.id,uiType:t?Ke.j.SyndicatedRegwall:Ke.j.RegWall})}),[]);var o=(0,l.useCallback)((function(){i.event("regwall.presented",{})}),[]),r=(0,Te.g)({onPresentedFn:o});return l.createElement(C.cW,{source:{postId:n.id,susiEntry:nn}},l.createElement(xe,{margin:"0px",ref:r},l.createElement(M.x,{display:"flex",textAlign:"center",justifyContent:"center",flexDirection:"column"},l.createElement(M.x,{padding:{xs:"28px 0 48px",sm:"28px 0 48px",md:"56px",lg:"56px",xl:"56px"}},l.createElement(ee.H2,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},a?"Check your inbox.":l.createElement(M.x,null,"Read the full story with a free account.")),l.createElement($.F,{color:"DARKER",scale:"M",tag:"div"},a?l.createElement(l.Fragment,null,l.createElement(M.x,{paddingTop:"12px",paddingBottom:"56px"},"Click the link we sent to ",a," to complete your account setup and continue reading this story."),l.createElement($.F,{color:"LIGHTER",scale:"M"},"Didn't get the link?"," ",l.createElement(Ze.R,{linkStyle:"OBVIOUS",operation:"register",post:n,susiEntry:nn},"Try again"))):l.createElement($.F,{color:"DARKER",scale:"L"},l.createElement(M.x,{margin:"32px 0 0"},l.createElement($.F,{color:"DARKER",scale:"M"},"The author made this story available to Medium members only.",l.createElement("br",null),"Sign up to read this one for free.")),l.createElement($.F,{color:"DARKER",scale:"M"},l.createElement(M.x,{display:{xs:"block",sm:"block",md:"none",lg:"none",xl:"none"}},l.createElement(M.x,{margin:"32px 0"},l.createElement(Ye.a,{isButton:!0,buttonSize:"REGULAR",postId:n.id,appEntry:"regwall",copy:"Continue in app"})),l.createElement(M.x,null,"Or, continue in mobile web"))),l.createElement(en,{postId:n.id,susiEntry:nn}),"Already have an account?"," ",l.createElement(Ze.R,{linkStyle:"OBVIOUS",inline:!0,operation:"login",post:n,susiEntry:nn},"Sign in")))))))},an=function(e){var n=e.post,i=n.id,t=n.content.isLockedPreviewOnly,a=(0,z.H)(),o=a.value,r=a.loading,d=!!o;if(!I(i,t).loading&&t){if(d)return l.createElement(ze,{post:n});if(!r)return l.createElement(tn,{post:n})}return null},on=i(21919),ln={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddCollaboratorMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addCollaborator"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]},rn=i(73776),dn=i(92804),sn=i(49546),mn=i(70405),cn=i(82492),un=i.n(cn),pn=i(68254),kn=i.n(pn),vn=i(20512),gn=i(46696),fn=i(15085);function Sn(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function Nn(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Sn(Object(i),!0).forEach((function(n){a()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Sn(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var hn=(0,H.$j)((function(e){var n=e.config,i=n.productName,t=n.defaultImages,a=n.collectionStructuredData,o=e.navigation;return{currentLocation:o.currentLocation,host:o.host,productName:i,defaultImages:t,collectionStructuredData:a}}))((function(e){var n=e.currentLocation,i=e.host,t=e.post,a=e.postDescription,o=e.productName,r=e.defaultImages,d=e.collectionStructuredData,s=t.collection,m=t.creator,c=t.id,u=t.mediumUrl,p=t.isLocked,k=t.previewImage,v=t.firstPublishedAt,f=t.updatedAt,S=(0,fn._t)(t,o),N={id:r.postLogo.imageId,originalWidth:r.postLogo.width,originalHeight:r.postLogo.height},h={id:r.orgLogo.imageId,originalWidth:r.orgLogo.width,originalHeight:r.orgLogo.height},y=s?{"@type":"Organization",name:s.name,url:s.domain||(0,g.l1)(i,(0,D.WG)(s,n)),logo:function(e){if(!e||!e.logo||!e.logo.id)return(0,vn.lc)(h);var n=(0,vn.lc)(e.logo);return n&&60===n.height&&n.width<=600?n:(0,vn.lc)(h)}(s)}:{"@type":"Organization",name:o,url:(0,g.l1)(i,"/"),logo:(0,vn.lc)(h)};s&&d&&d[s.id]&&un()(y,d[s.id].data);var x=k&&k.id?(0,vn.Y4)(Nn(Nn({},k),{},{miroId:k.id,croppedWidth:1200})):(0,vn.NJ)({url:(0,gn.W6)({miroId:N.id,width:N.originalWidth}),height:N.originalHeight,width:N.originalWidth}),b=a||"",E=p?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},F=Nn({"@type":"NewsArticle",image:x,url:u,dateCreated:v&&new Date(v).toISOString(),datePublished:v&&new Date(v).toISOString(),dateModified:f&&new Date(f).toISOString(),headline:S,name:S,description:b,identifier:c,author:m&&m.name&&m.username?{"@type":"Person",name:m.name||m.username,url:(0,D.AW)(m,i)}:null,creator:m&&[m.name],publisher:y,mainEntityOfPage:u},E),w=Nn(Nn({},{"@context":"http://schema.org"}),F);return l.createElement(mn.ql,null,l.createElement("script",{type:"application/ld+json"},kn()(w,{isJSON:!0})))})),yn=i(21372),xn=i(22680);function bn(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function En(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?bn(Object(i),!0).forEach((function(n){a()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):bn(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var Fn=(0,H.$j)((function(e){return{authDomain:e.config.authDomain,host:e.navigation.host,productName:e.config.productName}}))((function(e){var n,i,t,a,o=e.authDomain,r=e.productName,d=e.post,s=d.canonicalUrl,m=d.collection,c=d.creator,u=d.id,p=d.latestPublishedAt,k=d.mediumUrl,v=d.previewContent,g=d.socialTitle,f=d.socialDek,S=d.visibility,N=d.isShortform,h="UNLISTED"===S,y=!d.firstPublishedAt,x=null==c?void 0:c.name,b=(0,fn.yB)(d),E=d.title||"",F=b.latestTitle||E;if(N){var w=En(En({},d),{},{title:F});t=(0,fn.oS)(w,r,b.hasTitleGraf).trim(),a=(0,xn.O)(d,b.hasTitleGraf)}else t=(0,fn._t)(d,r,b,!0).trim(),a=(0,xn.j)(d);var P,_,T,I=f||(null==v?void 0:v.subtitle)||a;if(null!=d&&null!==(n=d.previewImage)&&void 0!==n&&n.id&&!d.isLimitedState){var O=d.previewImage;P=(0,gn.vz)({miroId:O.id,aspectRatio:1.9,croppedWidth:O.originalWidth?Math.min(O.originalWidth,1200):1200,originalWidth:O.originalWidth,originalHeight:O.originalHeight,focusPercentX:O.focusPercentX,focusPercentY:O.focusPercentY}),d.previewImage.alt&&(_=d.previewImage.alt)}else if(d.isLimitedState){var C={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};P=(0,gn.vz)({miroId:C.id,aspectRatio:1.9,croppedWidth:C.originalWidth?Math.min(C.originalWidth,1200):1200,originalWidth:C.originalWidth,originalHeight:C.originalHeight,focusPercentX:C.focusPercentX,focusPercentY:C.focusPercentY}),_="This image was reported as a potential violation of Medium's rules and is under investigation."}null!=c&&c.username&&(T=(0,D.AW)(c,o));var R=(0,D.CK)(u),A=!(null!==(i=(0,fn.c_)(d))&&void 0!==i&&i.shouldIndexPost),M=p&&new Date(p).toISOString(),B=(0,yn.Vd)(d.readingTime||0),L=null==c?void 0:c.twitterScreenName,V=(null==m?void 0:m.twitterUsername)||"Medium",j=null==m?void 0:m.facebookPageId,U=g||E||F;d.isLimitedState&&(U="");var W=d.isLimitedState?"":I,H=(0,l.useMemo)((function(){var e;return l.createElement(mn.ql,null,l.createElement("meta",{property:"og:type",content:"article"}),M&&l.createElement("meta",{property:"article:published_time",content:M}),l.createElement("title",null,t),l.createElement("meta",{name:"title",content:t}),l.createElement("meta",{property:"og:title",content:U}),j&&l.createElement("meta",{property:"fb:pages",content:j}),l.createElement("meta",{property:"al:android:url",content:R}),l.createElement("meta",{property:"al:ios:url",content:R}),l.createElement("meta",{property:"al:android:app_name",content:"Medium"}),a&&l.createElement("meta",{name:"description",content:a}),I&&l.createElement("meta",{property:"og:description",content:W}),l.createElement("meta",{property:"og:url",content:null!=k?k:void 0}),l.createElement("meta",{property:"al:web:url",content:null!=k?k:void 0}),P&&l.createElement("meta",{property:"og:image",content:P}),_&&l.createElement("meta",{property:"og:image:alt",content:_}),T&&l.createElement("meta",{property:"article:author",content:T}),T&&l.createElement("link",{rel:"author",href:T}),x&&l.createElement("meta",{name:"author",content:x}),l.createElement("link",{rel:"canonical",href:null!==(e=s||k)&&void 0!==e?e:void 0}),l.createElement("link",{rel:"alternate",href:(0,D.zi)((0,D.o2)("medium.com",d.id))}),l.createElement("meta",{name:"robots",content:"".concat(A?"noindex":"index",",follow,max-image-preview:large")}),l.createElement("meta",{name:"referrer",content:h||y?"origin":"unsafe-url"}),l.createElement("meta",{property:"twitter:title",content:U}),l.createElement("meta",{name:"twitter:site",content:"@".concat(V)}),l.createElement("meta",{name:"twitter:app:url:iphone",content:R}),I&&l.createElement("meta",{property:"twitter:description",content:W}),P&&l.createElement("meta",{name:"twitter:image:src",content:P}),_&&l.createElement("meta",{name:"twitter:image:alt",content:_}),l.createElement("meta",{name:"twitter:card",content:P?"summary_large_image":"summary"}),L&&l.createElement("meta",{name:"twitter:creator",content:"@".concat(L)}),l.createElement("meta",{name:"twitter:label1",content:"Reading time"}),l.createElement("meta",{name:"twitter:data1",content:"".concat(B," min read")}),l.createElement("meta",{name:"twitter:tile:template:testing",content:"2"}),P&&l.createElement("meta",{name:"twitter:tile:image",content:P}),_&&l.createElement("meta",{name:"twitter:tile:image:alt",content:_}),l.createElement("meta",{name:"twitter:tile:info1:icon",content:"Person"}),x&&l.createElement("meta",{name:"twitter:tile:info1:text",content:x}),l.createElement("meta",{name:"twitter:tile:info2:icon",content:"Calendar"}),p&&l.createElement("meta",{name:"twitter:tile:info2:text",content:(0,sn.Z)(p,"LLL d, yyyy")}),l.createElement("meta",{name:"twitter:cta",content:"Read on Medium"}))}),[t,s,k,P,_,u,g,a,T,x,L,R,A,p,M]);return l.createElement(l.Fragment,null,H,l.createElement(hn,{post:d,postDescription:a}))})),wn=i(7834),Pn=i(91743),_n=i(1444),Tn=i(80687),In=i(56804),On=i(17878),Cn=i(38160),Dn=i(21232),Rn=function(e){var n,i=e.post,t=e.socialPopoverPosition,a=void 0===t?"beginning":t,o=l.useContext(Dn.f).openSidebar,r=!!(0,z.H)().value,d=i.creator,s="clap_footer",m={post:i,source:"post_actions_footer"},c=(null==i||null===(n=i.postResponses)||void 0===n?void 0:n.count)||null;return l.createElement(M.x,{display:"flex",justifyContent:"space-between",print:{display:"none"}},l.createElement(C.cW,{source:{name:"post_actions_footer"}},l.createElement(M.x,{display:"flex",flexDirection:"row",alignItems:"center"},l.createElement(M.x,{maxWidth:"155px"},l.createElement(On.e,null,l.createElement(In.S,{post:i,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldShowResponsiveLabelText:!0,shouldHideClapsText:!0,susiEntry:s,buttonColor:"LIGHTER",countScale:"S",testId:"footerClapButton"})),l.createElement(On.s,null,l.createElement(In.S,{post:i,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldHideClapsText:!0,susiEntry:s,buttonColor:"LIGHTER",countScale:"S",testId:"footerClapButton"}))),l.createElement(C.cW,{source:{name:"follow_footer",susiEntry:"follow_footer"}},l.createElement(M.x,{display:"flex",marginLeft:"24px"},l.createElement(Cn.c,{trackingData:{postId:i.id},responsesCount:c,allowResponses:i.allowResponses,isLimitedState:i.isLimitedState,isPublished:i.isPublished,handleClick:o,iconStylesOverride:{marginTop:"0px"},countStylesOverride:{marginLeft:"4px",marginTop:"0px"},testId:"footerResponseButton"}))))),l.createElement(M.x,{display:"flex",alignItems:"center"},"beginning"===a&&l.createElement(Tn.I,m),l.createElement(M.x,{flexGrow:"0",marginLeft:"beginning"===a?"20px":void 0,marginRight:"20px"},l.createElement(C.cW,{source:{name:"post_actions_footer"}},l.createElement(_n.o,{post:i,susiEntry:"bookmark_footer",buttonStyle:"ICON_SUBTLE",testId:"footerBookmarkButton"}))),"end"===a&&l.createElement(M.x,{flexGrow:"0",marginRight:"20px"},l.createElement(Tn.I,W()({},m,{testId:"footerSocialShareButton"}))),i&&d&&r&&l.createElement(Pn.t,{post:i,testId:"footerStoryOptionsButton"})))},An=i(17235),Mn=i(30020),Bn=i(53690),Ln=i(78271),Vn=i(50344),jn=i(8969),Un=i(45957),Wn=function(e){return{fill:e.colorTokens.foreground.neutral.secondary.base}};function Hn(e){switch(e){case"PUBLIC_DOMAIN":return"Except where otherwise noted, this work is in the public domain.";case"CC_40_ZERO":return"Except where otherwise noted, this work has been dedicated to the public domain using CC0.";default:return"Except where otherwise noted, this work is licensed under a ".concat(zn(e,"title")," license by the author.")}}var Gn={PUBLIC_DOMAIN:{title:"Public Domain",link:"https://creativecommons.org/publicdomain/mark/1.0/"},CC_40_ZERO:{title:"Creative Commons copyright waiver",link:"http://creativecommons.org/publicdomain/zero/1.0/"},CC_40_BY:{title:"Creative Commons Attribution 4.0 International",link:"http://creativecommons.org/licenses/by/4.0/"},CC_40_BY_ND:{title:"Creative Commons Attribution-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nd/4.0/"},CC_40_BY_SA:{title:"Creative Commons Attribution-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-sa/4.0/"},CC_40_BY_NC:{title:"Creative Commons Attribution-NonCommercial 4.0 International",link:"https://creativecommons.org/licenses/by-nc/4.0/"},CC_40_BY_NC_ND:{title:"Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},CC_40_BY_NC_SA:{title:"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/"}};function zn(e,n){return Gn[e][n]}var Yn,Zn,Kn=function(e){var n=e.license,i=(0,_e.I)();return n?l.createElement(M.x,{display:"inline"},l.createElement(M.x,{display:"inline-block"},l.createElement($.F,{scale:"M"},l.createElement(Mn._,{tooltipText:Hn(n),maxWidth:300},l.createElement(q.r,{disableSourceParam:!0,href:zn(n,"link"),linkStyle:"SUBTLE",inline:!0,target:"_blank"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Public domain.";case"CC_40_ZERO":return"No rights reserved";default:return"Some rights reserved"}}(n))))),l.createElement(M.x,{display:"inline-block"},l.createElement($.F,{scale:"M"},"CC_40_ZERO"===n&&l.createElement("span",null," by the author."),l.createElement("span",{className:i(Wn),style:{marginLeft:"5px",verticalAlign:"text-bottom"}},function(e){return{CC_40_ZERO:l.createElement(Un.Z,null),CC_40_BY:l.createElement(Bn.Z,null),CC_40_BY_ND:l.createElement(l.Fragment,null,l.createElement(Bn.Z,null),l.createElement(Vn.Z,null)),CC_40_BY_SA:l.createElement(l.Fragment,null,l.createElement(Bn.Z,null),l.createElement(jn.Z,null)),CC_40_BY_NC:l.createElement(l.Fragment,null,l.createElement(Bn.Z,null),l.createElement(Ln.Z,null)),CC_40_BY_NC_ND:l.createElement(l.Fragment,null,l.createElement(Bn.Z,null),l.createElement(Ln.Z,null),l.createElement(Vn.Z,null)),CC_40_BY_NC_SA:l.createElement(l.Fragment,null,l.createElement(Bn.Z,null),l.createElement(Ln.Z,null),l.createElement(jn.Z,null)),PUBLIC_DOMAIN:l.createElement(l.Fragment,null)}[e]}(n))))):null},qn=i(73279),Xn=i(42440),Qn=function(e){var n=e.post,i=e.marginBottom,t=(null==n?void 0:n.tags)||[];return t.length?l.createElement(M.x,{display:"flex",flexWrap:"wrap","align-items":"flex-start",marginTop:"6px",marginBottom:i},t.map((function(e){return l.createElement(M.x,{display:"flex",marginTop:"8px",key:e.id},l.createElement(An.P,{topic:e}))}))):null},Jn=function(){return l.createElement(M.x,{padding:"0 8px",display:"inline"},l.createElement(qn.O,{display:"inline",scale:"M"}))},$n=function(e){var n,i=e.post,t=i.visibility,a=i.license,o="UNLISTED"===t,r=!(!a||"ALL_RIGHTS_RESERVED"===a),d=!(null===(n=i.tags)||void 0===n||!n.length),s=o||r;return d||s?l.createElement(O.P,{size:"app"},l.createElement(Qn,{post:i,marginBottom:s?"40px":"26px"}),s&&l.createElement(M.x,{marginTop:d?"0px":"12px",marginBottom:"26px"},o&&l.createElement(M.x,{display:"inline"},l.createElement($.F,{scale:"M",tag:"span"},l.createElement(Xn.Z,null)," Unlisted")),o&&r&&l.createElement(Jn,null),r&&l.createElement(Kn,{license:a}))):null},ei=i(60672),ni={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TopicViewerEdge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"topicId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topic"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"topicId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Topic"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TopicViewerEdge_topicViewerEdge"}}]}}]}}]}}]}}].concat(x()([{kind:"FragmentDefinition",name:{kind:"Name",value:"TopicViewerEdge_topicViewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopicViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isFollowing"}}]}}]))},ii=i(61095),ti=i(28959),ai="post-view",oi="post-read",li="topic-view",ri="medium-search",di="external-search",si=(Yn={},a()(Yn,ai,200),a()(Yn,oi,200),a()(Yn,li,200),a()(Yn,ri,200),a()(Yn,di,200),Yn),mi=(Zn={},a()(Zn,ai,new ti.Z("pv")),a()(Zn,oi,new ti.Z("pr")),a()(Zn,li,new ti.Z("tv")),a()(Zn,ri,new ti.Z("ms")),a()(Zn,di,new ti.Z("es")),Zn),ci=function(e,n,i){var t=mi[e];t.getCount()===si[e]&&t.clean();try{t.set(n,i)}catch(e){t.clean()}},ui=i(25550),pi=i(49608),ki=i(58207),vi=i(39202),gi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostNoteMissingToastQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"privateNotes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]},fi=i(97480),Si=i(35194),Ni=i(66227),hi=i(73917),yi=i(20113);function xi(){return(xi=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var bi=l.createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"}),Ei=l.createElement("path",{d:"M45.95 17.53v-.04l-.05-1.55a5.32 5.32 0 0 0-5.04-5.17c-5.8-.32-10.3-2.2-14.13-5.89l-.03-.03a3.26 3.26 0 0 0-4.4 0l-.03.03c-3.84 3.7-8.33 5.57-14.13 5.89-2.79.15-5 2.42-5.04 5.18l-.05 1.54v.1c-.11 5.84-.25 13.12 2.21 19.73 1.36 3.63 3.41 6.79 6.1 9.38 3.07 2.96 7.09 5.3 11.94 6.98a3.74 3.74 0 0 0 2.4 0c4.85-1.68 8.86-4.03 11.93-6.98 2.69-2.6 4.74-5.76 6.1-9.39 2.47-6.63 2.33-13.92 2.22-19.78zm-5 18.77c-2.6 6.96-7.9 11.74-16.23 14.62a.67.67 0 0 1-.45 0c-8.32-2.87-13.63-7.65-16.23-14.61-2.27-6.1-2.14-12.78-2.03-18.67v-.03c.03-.5.04-1.04.05-1.62.02-1.22 1-2.23 2.24-2.3 3.29-.18 6.17-.81 8.83-1.92 2.64-1.1 5-2.67 7.19-4.77.1-.1.25-.1.36 0a23.11 23.11 0 0 0 7.2 4.77 26.27 26.27 0 0 0 8.82 1.92 2.36 2.36 0 0 1 2.24 2.3c0 .58.02 1.12.05 1.62.11 5.9.24 12.59-2.04 18.69z",fill:"#757575"}),Fi=l.createElement("path",{d:"M24.5 17.76c-7.11 0-12.9 5.4-12.9 12.04 0 6.64 5.79 12.04 12.9 12.04s12.9-5.4 12.9-12.04c0-6.64-5.79-12.04-12.9-12.04zm0 21.25c-5.44 0-9.86-4.13-9.86-9.2 0-5.08 4.42-9.21 9.86-9.21 5.44 0 9.86 4.13 9.86 9.2 0 5.08-4.42 9.2-9.86 9.2z",fill:"#757575"}),wi=l.createElement("path",{d:"M28.08 25.1l-5.64 6.12-1.53-1.66c-.56-.6-1.46-.6-2.02 0-.55.6-.55 1.59 0 2.2l2.54 2.75c.28.3.65.45 1.01.45.37 0 .73-.15 1.01-.45l6.65-7.22c.55-.6.55-1.59 0-2.2-.56-.6-1.47-.6-2.02 0z",fill:"#757575"});const Pi=function(e){return l.createElement("svg",xi({width:49,height:57,viewBox:"0 0 49 57",fill:"none"},e),bi,Ei,Fi,wi)};var _i=(0,H.$j)()((function(e){var n=e.dispatch,i=e.isVisible,t=e.hide,a="limitedStateInterstitialDialogPopover";return l.createElement(Q.V,{isVisible:i,hide:t,withCloseButton:!1,customBackgroundColor:"rgba(255, 255, 255, 0.94)"},l.createElement(M.x,{display:"flex",justifyContent:"center",paddingTop:"100px"},l.createElement(M.x,{height:"550px",width:"900px",background:ae.ix,borderRadius:"4px",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",boxShadow:"0 2px 10px ".concat((0,ae.Uy)(.15)),paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},l.createElement(M.x,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},l.createElement(M.x,{paddingBottom:"24px"},l.createElement(Pi,null)),l.createElement(M.x,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},l.createElement(yi.X6,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),l.createElement(M.x,{padding:"0 0 24px 0"},l.createElement(X.zx,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){t(),n((0,te.Dx)({duration:"FOREVER",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyway"),l.createElement(Ni.B,null,(function(e){var n=e.isVisible,i=e.toggle,t=e.hide;return l.createElement(hi.J,{ariaId:a,isVisible:n,hide:t,display:"block",customZIndex:800,popoverRenderFn:function(){return l.createElement(M.x,{padding:"15px 20px",width:"400px"},l.createElement($.F,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},l.createElement(M.x,{paddingTop:"10px"},l.createElement(q.r,{"aria-controls":a,"aria-expanded":n?"true":"false",onClick:i},l.createElement("u",null,l.createElement($.F,{scale:"S"},"Why am I seeing this?")))))})))),l.createElement(M.x,{display:"flex",justifyContent:"center"},l.createElement($.F,{scale:"M"},"View our"," ",l.createElement(q.r,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",l.createElement(q.r,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",l.createElement(q.r,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms"))))))})),Ti=function(e){return function(){return{filter:e?"blur(10px)":"blur(0)"}}};function Ii(e){var n=e.post,i=n.creator,t=n.isLimitedState,a=e.children,o=(0,z.H)().value,r=null==o?void 0:o.id,d=(0,_e.I)(),s=l.useState(!1),m=j()(s,2),c=m[0],u=m[1];return l.useEffect((function(){u(!0)}),[]),t&&(i&&i.id)!==r?l.createElement(Ni.B,{initialVisibility:!0},(function(e){var n=e.isVisible,i=e.hide;return l.createElement(l.Fragment,null,l.createElement("div",{className:d(Ti(n))},a),c&&l.createElement(_i,{isVisible:n,hide:i}))})):a}var Oi=i(66018),Ci=i(75412),Di={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserSocialLoginsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userSocialLogins"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserSocialLogins_userSocialLogins"}}]}}]}}].concat(x()([{kind:"FragmentDefinition",name:{kind:"Name",value:"UserSocialLogins_userSocialLogins"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserSocialLogins"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"twitter"}},{kind:"Field",name:{kind:"Name",value:"facebook"}},{kind:"Field",name:{kind:"Name",value:"google"}},{kind:"Field",name:{kind:"Name",value:"redactedEmailAddress"}},{kind:"Field",name:{kind:"Name",value:"isMember"}},{kind:"Field",name:{kind:"Name",value:"emailAddress"}},{kind:"Field",name:{kind:"Name",value:"userAvatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}}]}}]}}]))};function Ri(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function Ai(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Ri(Object(i),!0).forEach((function(n){a()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ri(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var Mi=function(e){var n=e.children,i=e.postRenderCallback,t=(0,Ee.A)(),a=(0,C.hp)(),o=(0,k.PM)(),r=(0,C.P7)(o||""),d=r.userId,s=r.name,m=l.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),c=j()(m,2),u=c[0],p=c[1];l.useEffect((function(){var e=u.shouldRun,n=u.showSuggestedAccount,t=u.userSocialLogins;e&&(null==i||i(v,n,t))}),[u.shouldRun]);var v=(0,z.H)().value,g=(0,ui.r)(),f=g.loading,S=g.error,N=g.viewerId;if(f||S)return null;var h=!("email"!==s||v&&v.mediumMemberAt||!d);return h&&d?l.createElement(Ci.A,{query:Di,variables:{userId:d}},(function(e){var o=e.loading,l=e.error,r=e.data,d=(r=void 0===r?{}:r).userSocialLogins,s=!(o||l||!d||v&&!d.isMember||!d.facebook&&!d.google&&!d.twitter&&!d.redactedEmailAddress),m=Ai({loading:o,showSuggestedAccount:s},s&&{userSocialLogins:d,declineSuggestedAccount:function(){var e=(0,Re.S)(d);t.event("susi.suggestNotYou",{entryPoint:a,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:null==d?void 0:d.userId,alternateUserSuggestionSourceUserId:N})}});return!i||o||u.shouldRun||p({shouldRun:!0,showSuggestedAccount:s,userSocialLogins:d}),(null==n?void 0:n(m))||null})):(i&&!u.shouldRun&&p(Ai(Ai({},u),{},{shouldRun:!0})),(null==n?void 0:n({showSuggestedAccount:h,loading:!1}))||null)},Bi=i(93537),Li=i(98223),Vi=function(){var e=(0,H.I0)(),n=(0,te.w)(),i=(0,l.useState)("loading"),t=j()(i,2),a=t[0],o=t[1],r=(0,l.useCallback)((function(i,t,a){o(t?"rendered":"not_eligible"),t&&(e((0,Bi.T)(!0)),n({toastStyle:"ALTERNATE_USER",duration:"FOREVER",extraParams:{userSocialLogins:a}}))}),[n]);return(0,l.useEffect)((function(){e((0,Li.e)(!0))}),[]),(0,l.useEffect)((function(){"not_eligible"===a&&e((0,Li.e)(!1))}),[a]),l.createElement(Mi,{postRenderCallback:r})},ji=i(87757),Ui=i.n(ji),Wi=i(48926),Hi=i.n(Wi),Gi=i(87498),zi=i(18634),Yi=i(68821),Zi=i(62367),Ki=i(84509);var qi=i(26058),Xi=i(68427),Qi=i(84739),Ji=i(3934),$i=i(35558),et=([{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromPubAuthor_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat(x()(F.$m.definitions)),[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromPubAuthor_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat(x()(F.nf.definitions)),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AuthorCollectionRecircFeed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AuthorCollectionRecircFeedInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorCollectionRecircFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreview_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"StreamPostPreview_post"}}]}},{kind:"Field",name:{kind:"Name",value:"feedId"}}]}}]}}]}}].concat(x()(Ji.d.definitions),x()($i.w.definitions))}),nt=i(82053),it=i(4381),tt=i(43158),at=i(47459),ot=i(21755),lt=function(e){return e.filter((function(e){return!(null==e||!e.feedId||null==e||!e.post)}))},rt=function(e){var n=e.item,i=n.feedId,t=n.post,a=e.index,o=e.source,r=e.lastIndex,d=(0,Se.F)(),s=(0,v.v9)((function(e){return e.client.viewerIsBot}));return l.createElement(tt.P,{size:{xs:12,sm:12,md:6,lg:6,xl:6}},l.createElement(M.x,{paddingBottom:{xs:"32px",sm:"32px",md:"56px",lg:"56px",xl:"56px"},height:"100%"},l.createElement(C.cW,{extendSource:!0,source:{name:o,index:a,feedId:s?void 0:i}},l.createElement(nt.w,{index:a,post:t,scale:"S",aspectRatio:it.Pr.TwoToOne,lastIndex:r,dividerBreakpoints:[ot.j.xs,ot.j.sm],dividerColor:d.colorTokens.border.neutral.tertiary.base,miroImgFetchedWidth:679}))))},dt=function(e){var n=e.items,i=e.source;return l.createElement(at.T,{alignItems:"stretch"},n.map((function(e,t){return l.createElement(rt,{key:e.post.id,item:e,index:t,source:i,lastIndex:n.length-1})})))},st=i(41116),mt=function(e){var n,i=e.postId,t=e.user,a=e.collection,r=(0,Se.F)(),d=(0,o.a)(et,{variables:{input:{authorId:t.id,collectionId:null==a?void 0:a.id,postId:i,paging:{limit:4}}}}),s=d.loading,m=d.error,c=d.data,u=(null==c||null===(n=c.authorCollectionRecircFeed)||void 0===n?void 0:n.items)||[],p=lt(u),k=(0,Qi.B)(t);if(null==p||!p.length||s||m)return null;var v=1===(null==p?void 0:p.length);return l.createElement(l.Fragment,null,l.createElement(O.P,{size:"app"},l.createElement(M.x,{marginTop:"40px",marginBottom:"32px"},l.createElement(yi.X6,{scale:"XS"},"More from ",t.name,a&&" and ".concat(a.name))),v?l.createElement(l.Fragment,null,l.createElement(zi.y,{xs:!0,sm:!0},l.createElement(dt,{items:p,source:"author_recirc"})),l.createElement(zi.y,{md:!0,lg:!0,xl:!0},l.createElement(qi.j,{post:p[0].post,scale:"L",index:0,lastIndex:0,dividerColor:r.colorTokens.border.neutral.tertiary.base}))):l.createElement(dt,{items:p,source:"author_recirc"}),l.createElement(fi.E,{marginTop:v?{xs:"32px",sm:"32px",md:"24px",lg:"24px",xl:"24px"}:void 0,marginBottom:{xs:"32px",sm:"32px",md:"24px",lg:"24px",xl:"24px"},borderColor:r.colorTokens.border.neutral.tertiary.base}),l.createElement(M.x,{display:"flex",flexDirection:{xs:"column",sm:"column",md:"row",lg:"row",xl:"row"}},l.createElement(st.j,{href:k},"See all from ",null==t?void 0:t.name),a&&l.createElement(ct,{collection:a}))),l.createElement(fi.E,{marginTop:{xs:"72px",sm:"72px",md:"96px",lg:"96px",xl:"96px"},borderColor:r.colorTokens.border.neutral.tertiary.base}))},ct=function(e){var n=e.collection,i=(0,Xi.R)(n);return l.createElement(M.x,{marginTop:{xs:"16px",sm:"16px",md:"0px",lg:"0px",xl:"0px"},marginLeft:{xs:"0",sm:"0",md:"16px",lg:"16px",xl:"16px"}},l.createElement(st.j,{href:i},"See all from ",null==n?void 0:n.name))},ut=i(21043),pt=i(81360),kt=i(36764),vt=i(92305),gt=i(54341),ft=i(27048),St=i(18821),Nt=i(89080),ht=i(4088),yt=i(82864),xt={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromListPostCard_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}}]}}].concat(x()(ft.W.definitions),x()(F.$m.definitions),x()(gt.O.definitions),x()(St.H.definitions))},bt={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromListPostCard_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromListPostCard_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionLinkWithPopover_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Star_post"}}]}}].concat(x()(xt.definitions),x()(Nt.W.definitions),x()(ht.u.definitions),x()(yt.W.definitions))},Et={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoreFromListQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"catalogId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"catalogId"},value:{kind:"Variable",name:{kind:"Name",value:"catalogId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"catalogUrl_catalog"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}}]}},{kind:"Field",name:{kind:"Name",value:"itemsConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pagingOptions"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogItemId"}},{kind:"Field",name:{kind:"Name",value:"entity"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromListPostCard_post"}}]}}]}}]}}]}}]}}]}}].concat(x()(F.Ui.definitions),x()(gt.O.definitions),x()(bt.definitions))},Ft=i(35989),wt=i(25145),Pt=i(63459),_t=i(48342),Tt=i(27323),It=i(52069),Ot=i(13663);function Ct(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function Dt(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Ct(Object(i),!0).forEach((function(n){a()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ct(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var Rt=(0,l.forwardRef)((function(e,n){var i=e.post,t=i.collection,a=i.creator,o=i.title,r=i.isLocked,d=i.readingTime,s=i.createdAt,m=(0,wt.L)(i);return l.createElement(M.x,{marginRight:"16px",flexShrink:"0",ref:n},l.createElement(Ot.o,{post:Dt(Dt({},i),{},{previewContent:{isFullContent:!1}}),presentationContext:"POST_PREVIEW",shouldReportClientViewed:!1},l.createElement(Tt.P,{href:m},l.createElement(M.x,{borderRadius:"4px",border:"BASE_LIGHTER",background:"white",width:"240px",height:"148px",padding:"24px",display:"flex",flexDirection:"column"},l.createElement(M.x,{flexGrow:"1",flexBasis:"0%"},a&&l.createElement(M.x,{display:"flex",alignItems:"center",marginBottom:"8px"},l.createElement(kt.h,{author:a,collection:t,includeAvatar:!0,includeVerifiedAuthorBadge:!0})),l.createElement(It.Dx,{scale:"XS",clamp:2},o)),l.createElement(M.x,{display:"flex",alignItems:"center"},r&&l.createElement(l.Fragment,null,l.createElement(Ft.U,{post:i,hideLabelDesktop:!0}),l.createElement(qn.O,{margin:"0 8px"})),d&&l.createElement(l.Fragment,null,l.createElement($.F,{scale:"S"},l.createElement(_t.K,{readingTime:d})),l.createElement(qn.O,{margin:"0 8px"})),l.createElement($.F,{scale:"S"},l.createElement(Pt.Ej,{timestamp:s})))))))})),At=function(e){var n,i,t=e.catalogId,a=e.currentPostId,r=(0,Se.F)(),d=(0,v.v9)((function(e){return e.config.authDomain})),s=(0,Oe.s)(),m=(0,l.useRef)(null),c=s===ot.j.xs||s===ot.j.sm?300:600,u=(0,o.a)(Et,{variables:{catalogId:t,limit:11}}),p=u.data;if(u.loading)return null;var k=null==p?void 0:p.catalogById;if("Catalog"!==(null==k?void 0:k.__typename))return null;var g=(0,D.yk)(k,d),f=null==k||null===(n=k.itemsConnection)||void 0===n||null===(i=n.items)||void 0===i?void 0:i.map((function(e){var n;return"Post"===(null===(n=e.entity)||void 0===n?void 0:n.__typename)?e.entity:void 0})).filter((function(e){return!!e&&e.id!==a})).slice(0,10);return f.length?l.createElement(C.cW,{extendSource:!0,source:{name:"list_recirc",catalogId:k.id}},l.createElement(M.x,{marginBottom:{xs:"40px",sm:"40px",md:"52px",lg:"52px",xl:"52px"}},l.createElement(fi.E,{borderColor:r.colorTokens.border.neutral.primary.base,marginBottom:{xs:"30px",sm:"30px",md:"50px",lg:"50px",xl:"50px"}}),l.createElement(O.P,{size:"app"},l.createElement(yi.X6,{scale:"XS"},l.createElement(q.r,{href:g},'More from the list: "',(0,vt.Ze)(k),'"')),l.createElement(M.x,{display:"flex",marginTop:"8px",alignItems:"center"},l.createElement(M.x,{flexShrink:"0",whiteSpace:"nowrap",marginRight:"4px"},l.createElement($.F,{scale:"S"},"Curated by")),l.createElement(kt.h,{author:k.creator}))),l.createElement(M.x,{margin:"24px 0",position:"relative"},l.createElement(pt.J,{firstItemRef:m,scrollPixels:c,arrowPadding:"8px"},l.createElement(M.x,{flexShrink:"0",width:"calc(50% - ".concat(ut.d/2,"px)"),xs:{width:(0,B.a)(ut.l6)},sm:{width:(0,B.a)(ut.l6)}}),f.map((function(e,n){return l.createElement(Rt,{key:"".concat(e.id,"-").concat(n),post:e,ref:0===n?m:null})})))),l.createElement(O.P,{size:"app"},l.createElement($.F,{scale:"S",color:"ACCENT"},l.createElement(q.r,{href:g},"View list"))))):null},Mt=function(e){var n=e.currentPostId,i=(0,k.PM)(),t=(0,C.P7)(null!=i?i:"").catalogId;return t?l.createElement(At,{catalogId:t,currentPostId:n}):null},Bt=i(92661),Lt=i(60028),Vt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoreFromMediumQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recirc"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"6"}}]}},{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RexRecircItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"feedId"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreview_post"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"postCatalogRecirc"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"pagingOptions"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"4"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CatalogPreview_catalog"}}]}}]}}]}}].concat(x()(Ji.d.definitions),x()(Lt.N.definitions))},jt=i(44266),Ut=function(e){var n=e.list,i=(0,Ee.A)(),t=(0,C.pK)(),a=(0,l.useCallback)((function(){i.event("list.presented",{listId:n.id,source:t})}),[n.id,t]),o=(0,Te.g)({onPresentedFn:a});return l.createElement(tt.P,{size:{xs:12,sm:12,md:6,lg:6,xl:6},ref:o},l.createElement(jt.S,{catalog:n,titleMargin:"4px"}))},Wt=function(e){var n=e.lists,i=(0,Se.F)();return l.createElement(l.Fragment,null,l.createElement(fi.E,{marginBottom:"40px",borderColor:i.colorTokens.border.neutral.tertiary.base}),l.createElement(yi.X6,{scale:"XS"},"Lists"),l.createElement(M.x,{marginTop:"32px"},l.createElement(C.cW,{extendSource:!0,source:{name:"read_next_recirc"}},l.createElement(at.T,{alignItems:"flex-start"},n.map((function(e){return l.createElement(Ut,{key:e.id,list:e})}))))),l.createElement(fi.E,{marginTop:{xs:"16px",sm:"16px",md:"24px",lg:"24px",xl:"24px"},marginBottom:{xs:"32px",sm:"32px",md:"56px",lg:"56px",xl:"56px"},borderColor:i.colorTokens.border.neutral.tertiary.base}))},Ht=function(e){var n,i=e.postId,t=(0,Se.F)(),a=(0,Bt.qt)("ShowHome",{}),r=(0,o.a)(Vt,{variables:{postId:i,limit:6},skip:!i}),d=r.loading,s=r.error,m=r.data,c=null==m||null===(n=m.recirc)||void 0===n?void 0:n.items,u=null==m?void 0:m.postCatalogRecirc.catalogs;if(null==c||!c.length||d||s)return null;var p=lt(c),k=p.slice(0,2),v=p.slice(2);return l.createElement(O.P,{size:"app"},l.createElement(M.x,{paddingTop:"88px",paddingBottom:"40px"},l.createElement(yi.X6,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},"Recommended from Medium"),l.createElement(M.x,{marginTop:{xs:"40px",sm:"40px",md:"56px",lg:"56px",xl:"56px"}},l.createElement(dt,{items:k,source:"read_next_recirc"})),null!=u&&u.length?l.createElement(Wt,{lists:u}):null,l.createElement(dt,{items:v,source:"read_next_recirc"}),l.createElement(fi.E,{marginBottom:{xs:"32px",sm:"32px",md:"24px",lg:"24px",xl:"24px"},borderColor:t.colorTokens.border.neutral.tertiary.base}),l.createElement(st.j,{href:a},"See more recommendations")))},Gt=i(937),zt=i(74419),Yt=i(80350),Zt=i(32223),Kt=i(5422),qt=i(47834),Xt=i(65968),Qt=i(64238),Jt=i(26700),$t=i(31711),ea=i(92780),na=i(68356),ia=i.n(na),ta=i(50742),aa=ia()({loading:function(){return null},loader:function(){return i.e(9076).then(i.bind(i,26766))},modules:["./GiveTipButton"],webpack:function(){return[26766]},render:(0,ta.n)("GiveTipButton")}),oa=function(e){var n=e.user,i=e.postId,t=(0,z.H)().value,a=t&&t.id===n.id,o=(0,Bt.H2)(),r=(0,G.V)({name:"can_send_tips_v0",placeholder:!1}),d="rgba(26, 137, 23, 1)"!==(0,Se.F)().colorTokens.background.accent.primary.base,s=(0,g.Rk)(o("ShowSettingsTab",{setting:Zt.B.Account}),{},Kt.el);return l.createElement(l.Fragment,null,a?l.createElement(X.zx,{buttonStyle:d?"STRONG":"BRAND",size:"SMALL",href:s},l.createElement(M.x,{whiteSpace:"nowrap"},"Edit profile")):l.createElement(C.cW,{source:{name:"publisher_header_actions"},extendSource:!0},l.createElement(M.x,{display:"flex"},l.createElement($t.N,{creator:n,followButtonSize:"REGULAR",susiEntry:"follow_profile",showMembershipUpsellModal:!0,width:"auto",buttonStyleFn:function(e){return function(e){return d?e?"OBVIOUS":"STRONG":e?"SUBTLE":"BRAND"}(e)}}),r&&l.createElement(aa,{creatorId:n.id,postId:i,buttonStyle:d?"STRONG":"BRAND"}))))},la=function(e){var n,i=e.user,t=e.collection,a=!(null===(n=t.editors)||void 0===n||!n.find((function(e){var n;return(null==e||null===(n=e.user)||void 0===n?void 0:n.id)===i.id}))),o=(0,ea.n)({name:"detail",scale:"M",color:"LIGHTER",clamp:1}),r=(0,_e.I)();return l.createElement("div",{className:r([o,{display:"flex",whiteSpace:"pre-wrap"}])},l.createElement(qn.O,{margin:"0 8px"}),l.createElement(M.x,{tag:"span",flexShrink:"0"},a?"Editor for ":"Writer for "),l.createElement(Jt.q,{collection:t,clamp:1}))},ra=function(e){var n=e.user,i=e.postId,t=e.collection,a=(0,Se.F)(),o=(0,Qi.B)(n),r=(0,Qt.o)(n),d=(0,Oe.s)(),s=d===ot.j.xs||d===ot.j.sm,m=s?64:72,c=s?24:32;return l.createElement(O.P,{size:"app"},l.createElement(M.x,{marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"flex-end"},l.createElement(qt.j,{author:n,collection:t,authorSize:m,collectionImageSize:c,collectionOffset:"-16px",borderColor:a.colorTokens.background.neutral.tertiary.base}),l.createElement(zi.y,{xs:!0,sm:!0},l.createElement(oa,{user:n,postId:i}))),l.createElement(M.x,{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},l.createElement(M.x,null,l.createElement(M.x,{display:"flex",alignItems:"center"},l.createElement(q.r,{href:o,rules:{display:"flex",alignItems:"center"}},l.createElement(zt.i,{prefix:"Written by ",publisher:n,scale:"M"})),r&&l.createElement(Xt.G,{marginLeft:"2px",marginTop:"1px",size:"M",userId:n.id,alignSelf:{xs:"flex-end",sm:void 0,md:void 0,lg:void 0,xl:void 0}})),l.createElement(M.x,{marginTop:"8px",display:"flex"},l.createElement(M.x,{flexShrink:"0"},l.createElement(Yt.e,{publisher:n,scale:"M",color:"DARKER",inline:!0,showWhenZero:!0})),t&&l.createElement(la,{user:n,collection:t})),l.createElement(M.x,{marginTop:"16px"},l.createElement(Gt.y,{publisher:n,color:"DARKER"}))),l.createElement(zi.y,{md:!0,lg:!0,xl:!0},l.createElement(oa,{user:n,postId:i}))),l.createElement(fi.E,{marginTop:{xs:"32px",sm:"32px",md:"40px",lg:"40px",xl:"40px"},borderColor:a.colorTokens.border.neutral.tertiary.base}))},da=i(40806),sa=i(70929),ma=i(10654),ca=i(51277),ua=i(84130),pa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MobileFooterPostActions_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBookmarkButton_post"}}]}}].concat(x()(ma.x.definitions),x()(ca.v.definitions),x()(ua.G.definitions))},ka={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MobileFooterPostActionsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MobileFooterPostActions_post"}}]}}]}}].concat(x()(pa.definitions))},va=i(25011),ga=function(e){var n,i,t=e.post,a=e.isVisible,r=l.useContext(Dn.f).openSidebar,d=(0,o.a)(ka,{variables:{postId:t.id},ssr:!1}),s=d.data,m=d.loading,c=d.error;return m?null:(i=c||null==s||!s.post?t:s.post,l.createElement(va.p,{isVisible:a,multiVoteButton:l.createElement(In.S,{post:i,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldHideClapsText:!0,shouldShowResponsiveLabelText:!0,susiEntry:"clap_footer",buttonColor:"LIGHTER",countScale:"S"}),responsesButton:l.createElement(Cn.c,{responsesCountScale:"S",trackingData:{postId:i.id},responsesCount:(null===(n=i.postResponses)||void 0===n?void 0:n.count)||null,isLimitedState:i.isLimitedState,isPublished:i.isPublished,handleClick:r,countStylesOverride:{marginLeft:"4px"},allowResponses:i.allowResponses}),saveButton:l.createElement(sa.o,{kind:ie.ej.POST,target:i})}))},fa=i(93661),Sa=i(95729),Na=i(6479),ha=i.n(Na),ya=i(12722),xa=function(e){return{"> path":{fill:e.colorTokens.foreground.neutral.primary.base},marginRight:"8px",height:"16px",width:"16px"}},ba=function(e){var n=e.title,i=e.includeStar,t=e.benefits,a=e.onClick,o=e.href,r=e.buttonText,d=e.post,s=ha()(e,["title","includeStar","benefits","onClick","href","buttonText","post"]),m=(0,_e.I)();return l.createElement(M.x,W()({borderRadius:"4px",backgroundColor:"BACKGROUND",border:"BASE_LIGHTER",padding:"24px",width:{xs:"100%",sm:"100%",md:"320px",lg:"320px",xl:"320px"}},s),l.createElement(M.x,{display:"flex",alignItems:"center"},i&&l.createElement(Ie.Z,{className:m(xa)}),l.createElement(yi.X6,{scale:"XS"},n)),l.createElement(M.x,{marginTop:"16px",height:"1px",backgroundColor:"BASE_NORMAL"}),t.map((function(e,n){return l.createElement(M.x,{key:n,marginTop:"16px",display:"flex"},l.createElement(M.x,{marginRight:"12px"},l.createElement(ya.Z,null)),l.createElement($.F,{scale:"M",color:"DARKER"},e))})),l.createElement(M.x,{marginTop:"24px",marginBottom:"16px",height:"1px",backgroundColor:"BASE_NORMAL"}),l.createElement(Ze.R,{operation:"register",susiEntry:"lo_non_moc_upsell",isButton:!0,buttonStyle:"BRAND",redirectTo:o,additionalClickActions:a,buttonWidth:"100%",post:d},r))},Ea=i(66802),Fa={xs:"440px",sm:"440px",md:"1192px",lg:"1192px",xl:"1192px"},wa={height:{xs:"22px",sm:"22px",md:"32px",lg:"32px",xl:"32px"},marginBottom:{xs:"16px",sm:"16px",md:"32px",lg:"32px",xl:"32px"}},Pa={position:"absolute",bottom:"0",left:"0",zIndex:"-1"},_a=["Distraction-free reading. No ads.","Organize your knowledge with lists and highlights.","Tell your story. Find your audience."],Ta=["Access the best member-only stories.","Support independent authors.","Listen to audio narrations.","Read offline.","Join the Partner Program and earn for your writing."],Ia=function(e){var n=e.onClick,i=e.post,t=(0,_e.I)(),a=(0,fa.kr)({membershipType:fa.FM.Monthly}),o=a.amount,r=a.currency,d=(0,Bt.H2)();return l.createElement(M.x,{display:"flex",flexDirection:{xs:"column",sm:"column",md:"column",lg:"column",xl:void 0},alignItems:"center"},l.createElement(it.UV,{miroId:"5c50caa54067fd622d2f0fac18392213bf92f6e2fae89b691e62bceb40885e74",rules:Pa}),l.createElement(M.x,{marginRight:{xs:void 0,sm:void 0,md:void 0,lg:void 0,xl:"64px"},marginBottom:{xs:"24px",sm:"24px",md:"48px",lg:"48px",xl:void 0},textAlign:{xs:"center",sm:"center",md:"center",lg:"center",xl:void 0}},l.createElement(Sa.Z,{className:t(wa)}),l.createElement(ee.H2,{scale:{xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},color:"DARKER"},"Sign up to discover human stories that deepen your understanding of the world.")),l.createElement(M.x,{display:"flex",flexDirection:{xs:"column",sm:"column",md:void 0,lg:void 0,xl:void 0},alignItems:"center"},l.createElement(ba,{title:"Free",benefits:_a,buttonText:"Sign up for free",onClick:n,post:i,marginBottom:{xs:"24px",sm:"24px",md:void 0,lg:void 0,xl:void 0},marginRight:{xs:void 0,sm:void 0,md:"40px",lg:"40px",xl:"32px"}}),l.createElement(ba,{title:"Membership",includeStar:!0,benefits:Ta,buttonText:"Try for ".concat((0,Ea.xG)({amount:o,currency:r,floatingDigits:[0,2]}),"/month"),onClick:n,href:d("ShowPay",{}),post:i})))},Oa=i(5129),Ca=i(19374),Da=function(e){return function(n){return{backgroundColor:n.colorTokens.background.neutral.tertiary.base,borderTop:"1px solid ".concat(n.colorTokens.border.neutral.secondary.base),position:"fixed",width:"100%",visibility:e?"visible":"hidden"}}},Ra=function(e){var n=e.hide,i=e.click,t=e.height,a=e.containerRef,o=e.post,r=e.isVisible,d=e.setIsVisible,s=(0,l.useRef)(0),m=(0,l.useRef)(0),c=(0,Oe.s)();return(0,l.useEffect)((function(){if(t>0&&!r&&d(!0),c&&c!==ot.j.xl&&!(t<window.innerHeight/2)){var e=function(){var e=window.scrollY,n=t-window.innerHeight/2,i=t>window.innerHeight?n:Math.min(t/2,n),o=e<=0?0:Math.min(i,m.current+e-s.current);m.current=Math.max(0,o),s.current=e,a.current&&(a.current.style.removeProperty("bottom"),0===m.current?a.current.style.top="50vh":a.current.style.top="calc(50vh - ".concat(m.current,"px)"))};return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}a.current&&(a.current.style.removeProperty("top"),a.current.style.bottom="0")}),[t,c]),l.createElement(M.x,{maxWidth:Fa},l.createElement(Ca.L,{onClose:n,containerProps:{position:"absolute",top:"16px",right:"16px",padding:"0"}}),l.createElement(Ia,{onClick:i,post:o}))},Aa=function(e){var n=e.hide,i=e.click,t=e.post,a=(0,l.useState)(0),o=j()(a,2),r=o[0],d=o[1],s=(0,l.useState)(!1),m=j()(s,2),c=m[0],u=m[1];return l.createElement(Oa.S,{height:r,setHeight:d,isVisible:!0,hideDirection:"down",containerRules:Da(c),onHide:n,contentProps:{flexDirection:"column",padding:{xs:"32px 24px 28px",sm:"32px 24px 28px",md:"56px 24px 40px",lg:"56px 24px 40px",xl:"56px 24px 40px"},alignItems:"center"},hideOnEscapeKey:!0},(function(e){var n=e.hide,a=e.containerRef;return l.createElement(Ra,{height:r,hide:n,click:i,containerRef:a,post:t,isVisible:c,setIsVisible:u})}))},Ma=i(68894),Ba=i(3013),La=30*Gi.pU,Va=function(){return null},ja=["9db0094a1e0f","f03bf92035c9"],Ua=i(18733),Wa=function(e){var n=e.post,i=e.postIsLocked,t=(0,Oe.s)(),a=t===ot.j.xs||t===ot.j.sm,o=function(e,n){var i,t=(0,v.v9)((function(e){return e.client.hydrated})),a=(0,Ee.A)(),o=(0,z.H)(),d=o.value,s=o.error,m=o.loading,c=!m&&!s&&!d,u=(0,Ma.O)((0,Ba.V)((0,ki.D4)(),La)),p=j()(u,2),k=p[0],g=p[1],f=(0,l.useCallback)((function(){(0,ki.Fv)(new Date),a.event("upsell.dismissed",{dimension:"post_footer_upsell"}),g()}),[a,g]),S=(0,l.useCallback)((function(){a.event("upsell.clicked",{dimension:"post_footer_upsell"})}),[a]),N=(0,r.TH)(),h=(0,Bt.$B)(N.pathname),y="post"===(null==h||null===(i=h.route)||void 0===i?void 0:i.mediumAppPage);return!t||m?{isLoading:!0,isVisible:!1,hide:Va,click:Va}:ja.includes(e)||n||!y||!c||!t||k?{isLoading:!1,isVisible:!1,hide:Va,click:Va}:{isLoading:!1,isVisible:!0,hide:f,click:S}}(n.id,i),d=o.isLoading,s=o.isVisible,m=o.hide,c=o.click,u=a&&!s&&!d;if(!u&&!s)return null;var p=u?R.y:0;return l.createElement(da.o,{maxHeightToHideOnScroll:p,isUpsellVisible:s},(function(e){var i=e.isStuck;return l.createElement(l.Fragment,null,s&&l.createElement(C.cW,{extendSource:!0,source:{dimension:"post_footer_upsell",postId:n.id}},l.createElement(Ua.N8,null,l.createElement(Aa,{hide:m,click:c,post:n}))),u&&l.createElement(ga,{post:n,isVisible:i}))}))},Ha=function(e){var n=e.post,i=e.postViewerEdgeLoading,t=(0,Ee.A)(),a=(0,Se.F)(),d=l.useRef(null),s=(0,z.H)(),m=s.value,c=s.loading,u=s.error,p=(0,v.v9)((function(e){return e.client.hydrated}))&&!c&&!u&&!m,g=n.isLocked,f=n.collection,S=n.creator,N=n.content.isLockedPreviewOnly,h=(0,dn.D)({post:n,postBodyRef:d,postViewerEdgeLoading:i}),y=!!n.inResponseToEntityType;(0,l.useEffect)((function(){p&&!g&&t.event("experiment.eligible",{experimentId:"ac37e40f68ad"})}),[p,t,g]);var x=g?{className:"meteredContent"}:{},b=(f||{}).googleAnalyticsId;return(0,ge.t)({ids:b?[b]:null}),(0,Yi.V)(d,n),function(e,n,i){var t=(0,Ee.A)(),a=(0,C.pK)(),o=(0,l.useState)(!1),r=j()(o,2),d=r[0],s=r[1],m=(0,H.I0)(),c=(0,Zi.k)();(0,l.useEffect)((function(){if(!d&&i){var o=function(){if(n.current&&!d){var o,l=(0,Ki.L6)(n.current),r=(0,Ki.tM)(l),u=r.top+r.height,p=(0,Ki.tM)((0,Ki.t_)()),k=p.top+p.height;if(!i.content.isLockedPreviewOnly&&k>=u-100&&a.includes("post_page")){s(!0),m((0,te.C2)(!0));var v={source:a,postId:i.id,collectionSlug:i.collection?i.collection.slug:"",sequenceId:i.sequence?i.sequence.sequenceId:""};t.event("post.clientRead",v),c&&(c.setLocalAttribute("latest.post.clientRead.url",window.location.href),v.postId&&c.setLocalAttribute("latest.post.clientRead.postId",v.postId),v.source&&c.setLocalAttribute("latest.post.clientRead.source",v.source)),e||(o=i.id,ci(oi,o,Date.now()))}}};return ne.V6.on("scroll_end",o),function(){ne.V6.off("scroll_end",o)}}}),[d,i,c]),(0,l.useEffect)((function(){return function(){m((0,te.C2)(!1))}}),[])}(!!m,d,n),function(e){var n=e.post,i=e.clientViewedContext,t=void 0===i?1:i,a=e.overrideCommonData,r=void 0===a?{}:a,d=e.postViewerEdgeLoading;(function(e){var n,i,t=e.post,a=(0,v.v9)((function(e){return e.config.authDomain})),l=null==t?void 0:t.id,r=(0,ii.Pd)(null==t?void 0:t.creator),d=r.viewerEdge,s=r.loading,m=(0,Y.g)(null==t?void 0:t.collection),c=m.viewerEdge,u=m.loading,p=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=(0,o.a)(ni,{variables:{topicId:n},ssr:!1,skip:!n}),t=i.loading,a=i.error,l=i.data;return t?{loading:t}:a?{error:a}:{viewerEdge:null==l||null===(e=l.topic)||void 0===e?void 0:e.viewerEdge}}(null==t||null===(n=t.primaryTopic)||void 0===n?void 0:n.id),k=p.viewerEdge,g=p.loading,f=u||s||g;(0,ei.e)({data:{canonicalUrl:l&&null!=t&&null!==(i=t.collection)&&void 0!==i&&i.domain?(0,D.o2)(a,l):void 0,creatorViewerEdge:d,collectionViewerEdge:c,post:t||void 0,topicViewerEdge:k},loading:!l||f||!(null!=t&&t.isPublished),show:!0})})({post:n}),function(e){var n=e.post,i=e.clientViewedContext,t=e.overrideCommonData,a=void 0===t?{}:t,o=e.postViewerEdgeLoading,r=(0,Ee.A)(),d=(0,ui.r)(),s=d.loading,m=d.viewerId,c=m&&(0,pi.Q)(m),u=(null==n?void 0:n.collection)||{},p=u.id,v=u.slug,g=((null==n?void 0:n.content)||{}).validatedShareKey,f=null==n?void 0:n.id,S=(0,k.G1)();l.useEffect((function(){!s&&f&&m&&!o&&(null!=n&&n.isPublished?(c||(n.isLocked?(0,ki.yB)():(0,ki.B8)()),r.event("post.clientViewed",{postId:f,collectionId:p,collectionSlug:v,context:i,isFriendLink:!!g,source:"post_page",isTruncated:n.content.isLockedPreviewOnly,postShareKey:S},a)):r.event("post.draftViewed",{postId:f}),c||function(e){ci(ai,e,Date.now())}(f))}),[f,m,s,o])}({post:n,clientViewedContext:t,overrideCommonData:r,postViewerEdgeLoading:d})}({post:n,postViewerEdgeLoading:i}),function(e){var n=(0,z.H)().value,i=(0,on.D)(ln,{variables:{postId:e.id}}),t=j()(i,2),a=t[0],o=t[1].called;l.useEffect((function(){e.isPublished||null==n||!n.id||o||a()}),[n])}(n),function(){var e=(0,te.w)(),n=l.useState(!0),i=j()(n,2),t=i[0],a=i[1],o=(0,z.H)().value,r=(0,v.p9)((function(e){return e.session.xsrf})),d=(0,k.PM)(),s=(0,C.P7)(d||"").name;l.useEffect((function(){function e(){return(e=Hi()(Ui().mark((function e(){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,ki.vA)(o.id,r);case 4:n=e.sent,a(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[null==o?void 0:o.id,r]),l.useEffect((function(){null!=o&&o.createdAt&&(new Date).getTime()-o.createdAt>5*Gi.uD&&!t&&"login"===s&&(e({toastStyle:"SIGN_IN_CONFIRMATION",duration:"FOREVER"}),a(!0),(0,ki.oy)(o.id,r))}),[o,t,e,s,r])}(),function(e){var n,i,t,a,d,s=(0,r.TH)().hash,m=null==s||null===(n=s.replace("#",""))||void 0===n?void 0:n.split("-"),c=j()(m,2),u=c[0],p=c[1],g=(0,v.v9)((function(e){return e.navigation.referrer})),f=(0,k.G1)(),S=(0,k.PM)(),N=(0,o.a)(gi,{variables:{postId:null==e?void 0:e.id,postMeteringOptions:{referrer:g,sk:f,source:S}},ssr:!1,skip:!p}),h=N.loading,y=N.error,x=N.data,b=(null!=x?x:{}).post,E=null==b||null===(i=b.privateNotes)||void 0===i?void 0:i.find((function(e){return(null==e?void 0:e.id)===p})),F=null!==(t=null==b||null===(a=b.content)||void 0===a||null===(d=a.bodyModel)||void 0===d?void 0:d.paragraphs)&&void 0!==t?t:[],w=new Set(F.map((function(e){return e.name})).filter(vi.b)),P=!!E&&w.has(u),_=!(h||y||!p||P),T=(0,H.I0)();(0,l.useEffect)((function(){_&&T((0,te.Dx)({duration:"NEXTPAGE",message:"The note you're looking for was deleted."}))}),[_,T,te.Dx])}(n),l.createElement(M.x,null,!n.isLocked&&l.createElement(C.cW,{source:{dimension:"post_top_nav_upsell"}},l.createElement(fe.T,null)),l.createElement(Si.k,{post:n},l.createElement(Fn,{post:n}),l.createElement(Vi,null),l.createElement(Oi.L,{post:n,user:S,forceLoad:(null==m?void 0:m.id)===(null==S?void 0:S.id)}),l.createElement(M.x,{marginBottom:{xs:"4px",sm:"4px",md:"68px",lg:"68px",xl:"68px"}},l.createElement(O.P,{size:"app"},y&&l.createElement(M.x,{marginTop:{xs:"32px",sm:"32px",md:"40px",lg:"40px",xl:"40px"},marginBottom:{xs:"32px",sm:"32px",md:"40px",lg:"40px",xl:"40px"}},l.createElement(rn.h,{post:n}))),l.createElement("article",x,l.createElement(M.x,null,l.createElement(Ii,{post:n},l.createElement(M.x,null,l.createElement(wn.b,{isAuroraPostPageEnabled:!0,post:n,ref:d,richTextStyle:"FULL_PAGE",postBodyInserts:h}))))),l.createElement(O.P,{size:"app"},l.createElement(an,{post:n}))),l.createElement(Wa,{post:n,postIsLocked:!!g}),!N&&l.createElement($n,{post:n}),l.createElement(L,{isDockingEnabled:!1,undockedBackgroundColor:"BACKGROUND",maxWidthSize:"app",marginBottom:{xs:"80px",sm:"80px",md:"88px",lg:"88px",xl:"88px"}},l.createElement(Rn,{post:n,socialPopoverPosition:"end"}))),l.createElement(Mt,{currentPostId:n.id}),l.createElement(M.x,{backgroundColor:"BASE_LIGHT",paddingTop:{xs:"48px",sm:"48px",md:"72px",lg:"72px",xl:"72px"}},S&&l.createElement(l.Fragment,null,l.createElement(ra,{user:S,postId:n.id,collection:f}),l.createElement(mt,{postId:n.id,user:S,collection:f})),l.createElement(Ht,{postId:n.id}),l.createElement(zi.y,{lg:!0,xl:!0},l.createElement(fi.E,{marginTop:"72px",borderColor:a.colorTokens.border.neutral.tertiary.base}),l.createElement(O.P,{size:"app"},l.createElement(ve.q,{padding:"24px 0",spacing:"L",detailScale:"S"})))),l.createElement(ke,{post:n}))},Ga=i(82377),za=i(9970),Ya=i(57831),Za=i(1279),Ka=i(84492),qa=i(84683),Xa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostAuthorInfo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherName_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowersCount_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherDescription_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FollowAndSubscribeButtons_user"}}]}}].concat(x()(St.H.definitions),x()(za.g.definitions),x()(Ya.h.definitions),x()(Za.m.definitions),x()(Ka.i.definitions))},Qa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostAuthorInfo_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"editors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionLinkWithPopover_collection"}}]}}].concat(x()(qa.d.definitions),x()(Nt.W.definitions))},Ja=i(24176),$a=i(55193),eo=i(98007),no={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"RegWall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}}]}}].concat(x()(eo.qU.definitions))},io={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Wall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isMarkedPaywallOnly"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RegWall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Paywall_post"}}]}}].concat(x()(no.definitions),x()(He.definitions))},to=i(36299),ao=i(28272),oo=i(31228),lo=i(32934),ro={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"logo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_logo"}}]}}]}}].concat(x()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_logo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}}]))},so={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoTitle"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"updatedAt"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat(x()(F.$m.definitions),x()(ro.definitions),x()(lo.bq.definitions))},mo=i(97849),co={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostMetadata_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"socialTitle"}},{kind:"Field",name:{kind:"Name",value:"socialDek"}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"Field",name:{kind:"Name",value:"canonicalUrl"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"metaDescription"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"twitterScreenName"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"twitterUsername"}},{kind:"Field",name:{kind:"Name",value:"facebookPageId"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"alt"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}}]}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"postMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shouldIndexPost_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostTitle_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleDetails_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat(x()(F.$m.definitions),x()(so.definitions),x()(mo.i.definitions),x()(mo.m.definitions),x()(lo.HF.definitions),x()(lo.Pz.definitions),x()(lo.dm.definitions),x()(lo.bq.definitions))},uo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterInfo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"license"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterTags_post"}}]}}].concat(x()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterTags_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}},{kind:"Field",name:{kind:"Name",value:"normalizedTagSlug"}}]}}]}}]))},po=i(22330),ko=i(78693),vo=i(62549),go=i(17828),fo=i(8045),So=i(23515),No={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostByline_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_user"}}]}}].concat(x()(St.H.definitions),x()(F.$m.definitions),x()(gt.O.definitions),x()(ko.s.definitions))},ho={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostByline_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionLinkWithPopover_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"DraftStatus_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shouldShowPublishedInStatus_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSharePopover_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPageBookmarkButton_post"}}]}}].concat(x()(Nt.W.definitions),x()(vo.t.definitions),x()(go.w.definitions),x()(fo.G.definitions),x()(ca.v.definitions),x()(ma.x.definitions),x()(So.S.definitions))},yo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPageMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MeterClickable_post"}}]}}].concat(x()(_.definitions),x()(E.definitions))},xo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyInserts_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostByline_user"}}]}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyInserts_paragraph"}}]}},{kind:"Field",name:{kind:"Name",value:"sections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startIndex"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostByline_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShouldShowPostPageMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPageMeter_post"}}]}}].concat(x()(po.RD.definitions),x()(po.Ki.definitions),x()(No.definitions),x()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyInserts_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}]),x()(ho.definitions),x()([{kind:"FragmentDefinition",name:{kind:"Name",value:"useShouldShowPostPageMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}}]}}]}}]),x()(yo.definitions))},bo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostBranchView_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"domain"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"buildBranchViewData_post"}}]}}].concat(x()([{kind:"FragmentDefinition",name:{kind:"Name",value:"buildBranchViewData_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"layerCake"}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]))},Eo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostTracking_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"usePostClientViewedReporter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostBranchView_post"}}]}}].concat(x()([{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostClientViewedReporter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]),x()(bo.definitions))},Fo=i(56785),wo={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostPageQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostResultError_postResult"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"googleAnalyticsId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostAuthorInfo_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MastodonVerificationLink_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SuspendedBannerLoader_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostAuthorInfo_user"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToEntityType"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"WithResponsesSidebar_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostCanonicalizer_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterActionsBar_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostReadTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostMetadata_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SuspendedBannerLoader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterInfo_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyInserts_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNoteMissingToast_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostTracking_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishedDialog_prerequisite_post"}}]}}]}}]}}].concat(x()(Ga.i.definitions),x()(Qa.definitions),x()(Ja.G.definitions),x()($a.v.definitions),x()(Xa.definitions),x()(io.definitions),x()(to.Uw.definitions),x()(ao.y.definitions),x()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostCanonicalizer_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediumUrl"}}]}}]),x()(oo.R.definitions),x()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostReadTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]),x()(co.definitions),x()($a.Q.definitions),x()(uo.definitions),x()(xo.definitions),x()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNoteMissingToast_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),x()(Eo.definitions),x()(Fo.V.definitions),x()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishedDialog_prerequisite_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]))},Po=i(60600),_o=function(){var e=(0,Oe.s)()||ot.j.lg,n=e===ot.j.xs||e===ot.j.sm?2:3;return l.createElement(M.x,{height:"100vh"},l.createElement(M.x,{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"16px",width:"100%",marginTop:"48px"},l.createElement(M.x,{width:"80%",height:{xs:"40px",sm:"40px",md:"48px",lg:"48px",xl:"48px"},marginBottom:"24px",backgroundColor:"BASE_NORMAL"}),l.createElement(M.x,{display:"flex",marginBottom:{xs:"44px",sm:"44px",md:"52px",lg:"52px",xl:"52px"}},l.createElement(M.x,{height:"44px",width:"44px",backgroundColor:"BASE_NORMAL",borderRadius:"50%",marginRight:"12px"}),l.createElement(M.x,{margin:"auto 0"},l.createElement(M.x,{height:"16px",marginBottom:"4px",width:"120px",backgroundColor:"BASE_NORMAL"}),l.createElement(M.x,{height:"16px",width:"80px",backgroundColor:"BASE_NORMAL"}))),Array.from(Array(n)).map((function(e,n){return l.createElement(M.x,{key:n,width:"100%",marginBottom:{xs:"32px",sm:"32px",md:"48px",lg:"48px",xl:"48px"}},l.createElement(M.x,{width:"96%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),l.createElement(M.x,{width:"98%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),l.createElement(M.x,{width:"100%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),l.createElement(M.x,{width:"98%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),l.createElement(M.x,{width:"81%",height:"24px",backgroundColor:"BASE_NORMAL"}))}))))},To=function(){return l.createElement(Po.f,{itemPlaceholder:_o,numPlaceholders:1})};function Io(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function Oo(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Io(Object(i),!0).forEach((function(n){a()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Io(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var Co=function(e){var n,i,t=(0,D.mr)({params:e})||"",a=(0,o.a)(wo,{variables:{postId:t,postMeteringOptions:{}},skip:!t}),r=null===(n=a.data)||void 0===n?void 0:n.postResult,d="Post"===(null==r?void 0:r.__typename)&&!(null==r||null===(i=r.content)||void 0===i||!i.isLockedPreviewOnly),s=I(t,d),m=s.content,c=!!s.loading,u=r&&m?Oo(Oo({},r),{},{content:m}):r;return l.useMemo((function(){return{loading:a.loading||c,postQueryResult:a,postResult:u,postViewerEdgeLoading:c}}),[a,u,c])},Do=l.memo((function(e){var n=e.postQueryResult,i=e.postResult,t=e.params,a=e.postViewerEdgeLoading,o=(0,D.mr)({params:t})||"",u=n.loading,p=n.error,k=(0,r.TH)(),v=l.useMemo((function(){return{name:"post_page",postId:o}}),[o]);return o?u?l.createElement(O.P,{size:"inset"},l.createElement(To,null)):p?l.createElement(d.C,{error:p}):(0,c.r)(i)?l.createElement(c.I,{postResult:i}):l.createElement(h,{post:i,matchedPath:k.pathname,key:o},l.createElement(C.cW,{source:v},i.creator&&l.createElement(m.$,{user:i.creator}),l.createElement(Ha,{post:i,postViewerEdgeLoading:a}))):l.createElement(s.$,null)}))},25011:(e,n,i)=>{"use strict";i.d(n,{p:()=>c});var t=i(67154),a=i.n(t),o=i(67294),l=i(77355),r=i(14646),d=i(93513),s=function(e){var n=a()({},e);return o.createElement(l.x,a()({display:"flex",flexBasis:"0",flexGrow:"1",flexShrink:"1",justifyContent:"center",alignItems:"center"},n))},m=function(e){return function(n){return{width:"100%",justifyContent:"stretch",display:"flex",backgroundColor:n.backgroundColor,alignItems:"center",height:"".concat(d.y,"px"),borderTop:"solid 1px ".concat(n.colorTokens.border.neutral.primary.base),opacity:e?1:0,visibility:e?"visibile":"hidden"}}},c=(0,o.memo)((function(e){var n=e.multiVoteButton,i=e.responsesButton,t=e.saveButton,a=e.isVisible,l=void 0===a||a,d=(0,r.I)();return o.createElement("div",{className:d(m(l))},o.createElement(s,null,n),o.createElement(s,null,i),t&&o.createElement(s,null,t))}))},40806:(e,n,i)=>{"use strict";i.d(n,{o:()=>m});var t=i(63038),a=i.n(t),o=i(67294),l=i(6280),r=i(14646),d=i(77241),s=function(e,n){return{position:"sticky",zIndex:n?d.ZP.metabarProgress:d.ZP.selectionMenu,bottom:"0","> *":{transform:"translateY(".concat(e,"px)")}}},m=function(e){var n=e.children,i=e.maxHeightToHideOnScroll,t=e.isUpsellVisible,d=(0,r.I)(),m=(0,o.useRef)(),c=(0,o.useState)(0),u=a()(c,2),p=u[0],k=u[1],v=(0,o.useCallback)((function(e){k((function(n){return Math.max(Math.min(n+e,i),0)}))}),[i]),g=(0,o.useCallback)((function(){var e,n=null===(e=h.current)||void 0===e?void 0:e.getBoundingClientRect().y;window.scrollY>0&&m.current&&n&&v(m.current-n),m.current=n}),[v]),f=i>0,S=(0,l.$)(f,g),N=S.dockRef,h=S.markerRef,y=S.isStuck;return o.createElement(o.Fragment,null,o.createElement("div",{ref:h}),o.createElement("div",{ref:N,className:d(s(p,t))},"function"==typeof n?n({isStuck:y}):n))}},93513:(e,n,i)=>{"use strict";i.d(n,{T:()=>t,y:()=>a});var t=52,a=48},6280:(e,n,i)=>{"use strict";i.d(n,{$:()=>r});var t=i(63038),a=i.n(t),o=i(67294),l=i(34135),r=function(e,n){var i=(0,o.useRef)(null),t=(0,o.useRef)(null),r=(0,o.useState)(!0),d=a()(r,2),s=d[0],m=d[1];return(0,o.useEffect)((function(){var a=function(){var e,a,o=null===(e=i.current)||void 0===e?void 0:e.getBoundingClientRect().y,l=null===(a=t.current)||void 0===a?void 0:a.getBoundingClientRect().y;o&&l&&m(Boolean(l-o)),null==n||n()};if(a(),e)return l.V6.on("scroll",a),function(){l.V6.off("scroll",a)}}),[e]),{isStuck:e&&s,dockRef:i,markerRef:t}}},60672:(e,n,i)=>{"use strict";i.d(n,{e:()=>u});var t=i(67294),a=i(27517),o=i(18702),l=i(25550),r=i(6443),d=i(98067),s=i(77280),m=i(43487),c=i(55765),u=function(e){var n=e.data,i=void 0===n?{}:n,u=e.isBlocked,p=void 0!==u&&u,k=e.loading,v=e.show,g=i.canonicalUrl,f=i.collectionViewerEdge,S=i.creatorViewerEdge,N=i.pageType,h=i.post,y=i.profileName,x=i.profilePhoto,b=i.profileUsername,E=i.topicViewerEdge,F=(0,a.I0)(),w=(0,l.r)(),P=w.loading,_=w.viewerId,T=(0,c.P)(),I=T.loading,O=T.inAppBrowser,C=(0,r.H)(),D=C.loading,R=C.value,A=(0,m.v9)((function(e){return e.navigation.referrer})),M=(0,s.PM)();(0,t.useEffect)((function(){if(!(k||D||P||!_||I)){var e=(0,o.RD)({collectionViewerEdge:f,creatorViewerEdge:S,currentUserId:_,inAppBrowser:O,page_type:N,post:h,profile_name:y,profile_photo:x,profile_username:b,referrer:A,referrerSource:M,viewer:R,topicViewerEdge:E});return g&&(e.data.$canonical_url=g),(0,o.Pu)(e),F((0,d.aj)(e)),v&&(F((0,d.QZ)()),F((0,d.Dl)(p))),function(){F((0,d.Uo)())}}}),[k,D,P,_,I])}},24176:(e,n,i)=>{"use strict";i.d(n,{G:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MastodonVerificationLink_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"linkedAccounts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mastodon"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}}]}}]}},90732:(e,n,i)=>{"use strict";i.d(n,{$:()=>l});var t=i(67294),a=i(77355),o=i(50458),l=function(e){var n,i,l=e.user,r=(0,o.eF)(),d=null===(n=l.linkedAccounts)||void 0===n||null===(i=n.mastodon)||void 0===i?void 0:i.username;return d?t.createElement(a.x,{display:"none"},t.createElement("a",{rel:"me",href:"".concat(r,"/@").concat(d)},"Mastodon")):null}},51277:(e,n,i)=>{"use strict";i.d(n,{v:()=>d});var t=i(319),a=i.n(t),o=i(48172),l=i(57477),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverflowMenuWithNegativeSignal_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuItemUndoClaps_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBase_post"}}]}}].concat(a()(o.g.definitions),a()(l._C.definitions))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuWithNegativeSignal_post"}}]}}].concat(a()(r.definitions))}},3934:(e,n,i)=>{"use strict";i.d(n,{d:()=>c});var t=i(319),a=i.n(t),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"GridPostPreviewImage_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreviewImage_imageMetadata"}}]}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"GridPostPreviewImage_imageMetadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"alt"}}]}}]))},l=i(8607),r=i(14524),d=i(63009),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"GridPostPreviewContent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"extendedPreviewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreviewImage_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreviewFooter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreviewByLine_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreviewInformation_post"}}]}}].concat(a()(o.definitions),a()(l.m1.definitions),a()(r.xO.definitions),a()(d.u.definitions))},m=i(3105),c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"GridPostPreview_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreviewContent_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreviewContainer_post"}}]}}].concat(a()(s.definitions),a()(m.J.definitions))}},82053:(e,n,i)=>{"use strict";i.d(n,{w:()=>B});var t=i(67294),a=i(66604),o=i.n(a),l=i(77355),r=i(93310),d=i(52069),s=i(90586),m=i(87691),c=i(14646),u=i(97480),p=i(18634),k=i(21755),v=i(31889);function g(e){var n=e.dividerBreakpoints,i=e.dividerColor,a=(0,v.F)();return t.createElement(p.y,{xl:n.includes(k.j.xl),lg:n.includes(k.j.lg),md:n.includes(k.j.md),sm:n.includes(k.j.sm),xs:n.includes(k.j.xs)},t.createElement(u.E,{marginTop:"32px",borderColor:null!=i?i:a.colorTokens.border.neutral.primary.base}))}var f=i(94124),S=i(4381),N=i(46696),h=i(36001);function y(e,n){return e.includes(n)?"block":"none"}function x(e){return e?Math.round(e):e}function b(e){var n=e.post,i=e.postUrl,a=e.scales,o=e.aspectRatio,d=void 0===o?S.Pr.ThreeToTwo:o,s=e.miroImgFetchedWidth,m=(0,h.Il)(a),c=n.previewImage,u=n.title,p=(null==c?void 0:c.id)||"1*yuVzMhCJyDENbyhwAsrkwA.png",k=(0,N.W6)({miroId:p,width:s,strategy:N._S.Resample,freezeGifs:!1}),v=(null==c?void 0:c.alt)||u||"",g=function(e,n,i){return function(t){var a,o,l=null!==(a=x(n))&&void 0!==a?a:50,r=null!==(o=x(i))&&void 0!==o?o:50;return{width:"100%",borderRadius:"2px",aspectRatio:"string"==typeof e?S.FA[e]:{xs:S.FA[e.xs],sm:S.FA[e.sm],md:S.FA[e.md],lg:S.FA[e.lg],xl:S.FA[e.xl]},objectFit:"cover",objectPosition:"".concat(l,"% ").concat(r,"%"),backgroundColor:t.colorTokens.background.neutral.tertiary.base}}}(d,null==c?void 0:c.focusPercentX,null==c?void 0:c.focusPercentY);return t.createElement(r.r,{href:i,"aria-label":v||"Post Preview Image"},Object.keys(m).map((function(e){var n=m[e];return n.length?t.createElement(l.x,{display:{xs:y(n,"xs"),sm:y(n,"sm"),md:y(n,"md"),lg:y(n,"lg"),xl:y(n,"xl")},key:"grid-image-".concat(e)},t.createElement(f.E,{src:k,alt:v,rules:g,loading:f.K.LAZY})):null})))}var E=i(9842),F=i(55047),w=i(63254),P="image",_="content";function T(e){return new Array(12).fill(null).map(e).join(" ")}function I(e){switch(e){case"L":return'"'.concat(T((function(e,n){return n>=7?_:P})),'"');case"M":case"S":var n=T((function(){return P})),i=T((function(){return _}));return'"'.concat(n,'" "').concat(i,'"')}}var O={S:{subElementSpacing:"16px",titleScale:"S",titleClamp:2,gridTemplateAreas:I("S"),gap:"24px 0",hasDivider:!0,flexGrowTitle:"1"},M:{subElementSpacing:"20px",titleScale:"M",titleClamp:2,gridTemplateAreas:I("M"),gap:"32px 0",hasDivider:!0,flexGrowTitle:"1"},L:{subElementSpacing:"24px",titleScale:"L",titleClamp:3,gridTemplateAreas:I("L"),gap:"0 56px",hasDivider:!1,flexGrowTitle:void 0}},C=function(e,n){return{height:"100%",display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridTemplateRows:"auto 1fr",gap:e,gridTemplateAreas:n}},D=function(e){return{gridArea:e}},R={display:"flex",justifyContent:"center",flexDirection:"column"},A=function(e){var n,i=e.post,a=e.postUrl,u=e.scales,p=e.aspectRatio,k=e.showCollectionName,v=e.showAuthor,f=e.showDivider,S=e.dividerBreakpoints,N=e.dividerColor,y=e.miroImgFetchedWidth,x=(0,c.I)(),T=i.title,I=null==i||null===(n=i.extendedPreviewContent)||void 0===n?void 0:n.subtitle,A=(0,h.L)(O,u),M=o()(A,(function(e){return e.subElementSpacing})),B=o()(A,(function(e){return e.titleScale})),L=o()(A,(function(e){return e.titleClamp})),V=o()(A,(function(e){return e.gap})),j=o()(A,(function(e){return e.gridTemplateAreas})),U=o()(A,(function(e){return e.hasDivider})),W=o()(A,(function(e){return e.flexGrowTitle})),H=T&&T.length>70,G=f&&U;return t.createElement("div",{className:x(C(V,j))},t.createElement("div",{className:x(D(P))},t.createElement(b,{post:i,postUrl:a,scales:u,aspectRatio:p,miroImgFetchedWidth:y})),t.createElement("div",{className:x([D(_),R])},t.createElement(E.G,{post:i,marginBottom:M,showCollectionName:k,showAuthor:v}),t.createElement(l.x,{wordBreak:"break-word",paddingBottom:T||I?M:void 0,flexGrow:W},t.createElement(r.r,{href:a},T&&t.createElement("div",{title:H?T:""},t.createElement(d.Dx,{scale:B,clamp:L},T)),I&&t.createElement(l.x,{paddingTop:"8px"},t.createElement(s.QE,{scale:"S",clamp:2},I)))),t.createElement(r.r,{href:a},t.createElement(m.F,{scale:"S",tag:"span"},t.createElement(l.x,{display:"flex",alignItems:"center"},t.createElement(w.O,{post:i})))),t.createElement(l.x,{paddingTop:M},t.createElement(F.u,{post:i,postUrl:a,scales:u})),G&&t.createElement(g,{dividerBreakpoints:S,dividerColor:N})))},M=i(69935);function B(e){var n=e.post,i=e.index,a=e.lastIndex,o=e.presentationTrackerReferrerSource,l=e.scale,r=e.aspectRatio,d=e.showCollectionName,s=e.showAuthor,m=e.dividerBreakpoints,c=e.dividerColor,u=e.miroImgFetchedWidth,p="string"==typeof l?(0,h.n0)(l):l;return t.createElement(M.V,{post:n,presentationTrackerReferrerSource:o,index:i,isFullHeight:!0},(function(e){var o=e.postUrl;return t.createElement(A,{post:n,postUrl:o,scales:p,aspectRatio:r,showDivider:i!==a,showCollectionName:d,showAuthor:s,dividerBreakpoints:m,dividerColor:c,miroImgFetchedWidth:u})}))}},1279:(e,n,i)=>{"use strict";i.d(n,{m:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherDescription_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"description"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bio"}}]}}]}}]}},937:(e,n,i)=>{"use strict";i.d(n,{y:()=>r});var t=i(67294),a=i(14294),o=i(38882),l=i(87691),r=function(e){var n=e.publisher,i=e.color,r="Collection"===n.__typename?n.description:n.bio;return r?t.createElement(l.F,{scale:"M",color:i},t.createElement(o.c.Provider,{value:!0},t.createElement(a.P,{wrapLinks:!0},r))):null}},74419:(e,n,i)=>{"use strict";i.d(n,{i:()=>l});var t=i(67294),a=i(20113),o=i(14646),l=function(e){var n=e.publisher,i=e.scale,l=void 0===i?"XS":i,r=e.prefix,d=(0,o.I)();return n.name?t.createElement(a.X6,{playwrightClassName:"pw-author-name",scale:l},t.createElement("span",{className:d({wordBreak:"break-word"})},r,n.name)):null}},80350:(e,n,i)=>{"use strict";i.d(n,{t:()=>s,e:()=>m});var t=i(67294),a=i(68427),o=i(84739),l=i(93310),r=i(87691),d=i(21372),s=function(e){var n,i,t=null!==(n="Collection"===e.__typename?e.subscriberCount:null===(i=e.socialStats)||void 0===i?void 0:i.followerCount)&&void 0!==n?n:0;return{followerCount:t,isFollowerCountVisible:t>0}},m=function(e){var n=e.disableLink,i=void 0!==n&&n,m=e.scale,c=void 0===m?"L":m,u=e.publisher,p=e.color,k=e.linkStyle,v=void 0===k?"SUBTLE":k,g=e.inline,f=e.showWhenZero,S=(0,a.B)(),N=(0,o.I)(),h=s(u),y=h.followerCount,x=h.isFollowerCountVisible;if(!f&&!x)return null;var b="".concat((0,d.pY)(y)," Follower").concat(1===y?"":"s");return t.createElement(r.F,{playwrightClassName:"pw-follower-count",tag:"span",scale:c,color:p},y>0&&!i?t.createElement(l.r,{href:"".concat("Collection"===u.__typename?S(u):N(u),"/followers"),linkStyle:v,inline:g},b):b)}},86106:(e,n,i)=>{"use strict";i.d(n,{H:()=>v,C:()=>f});var t=i(67154),a=i.n(t),o=i(67294),l=i(93310),r=i(92780),d=i(66411),s=i(14646),m=i(42498),c={S:"2px 8px",M:"8px 16px"},u=function(){return{whiteSpace:"nowrap"}},p=function(){return{marginRight:"8px",border:"none",padding:"0",cursor:"pointer"}},k=function(e){return function(){return{padding:"".concat(c[e]),position:"relative"}}},v=function(e){return function(n){return{backgroundColor:"".concat(n.colorTokens.background.neutral.secondary.base),borderRadius:"100px",border:"1px solid ".concat(e?n.colorTokens.border.neutral.secondary.base:n.colorTokens.border.neutral.primary.base),transition:"background 300ms ease",":hover":{backgroundColor:"".concat(n.colorTokens.background.neutral.secondary.base)}}}},g=function(e){if(e)return{overflow:"hidden",textOverflow:"ellipsis"}},f=(0,o.forwardRef)((function(e,n){var i=e.topic,t=e.scale,c=void 0===t?"M":t,f=e.color,S=void 0===f?"DARKER":f,N=e.onClick,h=e.shouldTruncate,y=void 0!==h&&h,x=e.source,b=e.href,E=e.innerRef,F=e.includeBorder,w=(0,s.I)(),P=(0,r.n)({name:"detail",scale:c,color:S}),_="Topic"===i.__typename?(0,m.fl)(i.name||""):(0,m.fl)(i.displayTitle||"");return o.createElement(d.cW,{source:x,extendSource:!0},o.createElement(l.r,a()({href:b},y&&{className:w({width:"100%"})},"M"===c&&{className:w(p)},{onClick:N,"aria-current":F?"page":void 0,ref:n}),o.createElement("div",{className:w([k(c),v(F),P,u,g(y)]),ref:E},_)))}))},17235:(e,n,i)=>{"use strict";i.d(n,{P:()=>d});var t=i(67294),a=i(57326),o=i(43487),l=i(50458),r=i(86106),d=(0,t.forwardRef)((function(e,n){var i=e.topic,d=e.scale,s=e.color,m=e.index,c=e.onClick,u=e.shouldTruncate,p=e.includeBorder,k=(0,o.v9)((function(e){return e.config.authDomain})),v=(0,o.v9)((function(e){return e.config.topicToTagMappings})),g=function(e,n){return"Topic"===e.__typename?n[e.slug]?n[e.slug]:e.slug:e.id||""}(i,v),f=i.id||void 0,S=g?(0,l.Ih)(g,k):"#",N=(0,a.S)({index:m,tagSlug:g}),h=N.containerRef,y=N.handleClick,x=t.useCallback((function(){null==c||c(i.id),y()}),[i.id,c,y]);return t.createElement(r.C,{topic:i,source:{topicId:f,index:m},href:S,scale:d,color:s,shouldTruncate:u,onClick:x,innerRef:h,includeBorder:p,ref:n})}))},57326:(e,n,i)=>{"use strict";i.d(n,{S:()=>p});var t=i(59713),a=i.n(t),o=i(67294),l=i(18627),r=i(66411),d=i(18122),s=i(77280),m=i(43487);function c(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function u(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?c(Object(i),!0).forEach((function(n){a()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var p=function(e){var n=e.index,i=e.tagSlug,t=(0,l.A)(),a=(0,r.Lk)(),c=(0,s.PM)(),p=(0,m.v9)((function(e){return e.navigation.referrer})),k=(0,m.v9)((function(e){return e.navigation.currentLocation})),v=(0,r.f0)(u(u({},a),{},{index:n,topicId:i})),g={referrer:p||k,referrerSource:c},f=o.useCallback((function(){t.event("tag.clicked",{tagSlug:i},u(u({},g),{},{source:v}))}),[i,t,v,c,g]);return{containerRef:(0,d.g)({onPresentedFn:function(){t.event("tag.presented",{tagSlug:i,source:v},g)}}),handleClick:f}}},22330:(e,n,i)=>{"use strict";i.d(n,{RD:()=>l,Ki:()=>r,lt:()=>d});var t=i(319),a=i.n(t),o=i(68216),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat(a()(o.$m.definitions))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatarImageId"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_user"}}]}}]}}].concat(a()(l.definitions),a()(r.definitions))}},20512:(e,n,i)=>{"use strict";i.d(n,{Y4:()=>r,NJ:()=>d,lc:()=>s});var t=i(59713),a=i.n(t),o=i(46696);function l(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function r(e){var n=e.miroId,i=e.originalWidth,t=e.originalHeight,a=e.focusPercentX,l=e.focusPercentY,r=e.croppedWidth;if(!n)return null;var d=(0,o.vz)({miroId:n,aspectRatio:16/9,croppedWidth:r,originalWidth:i,originalHeight:t,focusPercentX:a,focusPercentY:l}),s=(0,o.vz)({miroId:n,aspectRatio:4/3,croppedWidth:r,originalWidth:i,originalHeight:t,focusPercentX:a,focusPercentY:l}),m=(0,o.vz)({miroId:n,aspectRatio:1,croppedWidth:r,originalWidth:i,originalHeight:t,focusPercentX:a,focusPercentY:l}),c=new Set([d,s,m]);return Array.from(c)}function d(e){return function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?l(Object(i),!0).forEach((function(n){a()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}({"@type":"ImageObject"},e)}function s(e){var n=e.id,i=e.originalWidth,t=e.originalHeight;if(!n||!i||!t)return null;var a=Math.min(t,60),l=a/t,r=Math.floor(i*l);return d({width:r,height:a,url:(0,o.W6)({miroId:n,width:r,freezeGifs:!0,strategy:o._S.Resample})})}},41135:(e,n,i)=>{"use strict";i.d(n,{b:()=>I});var t=i(59713),a=i.n(t),o=i(67294),l=i(33380),r=i(319),d=i.n(r),s=i(38883),m=i(94124),c=i(96370),u=i(14646),p=i(75221),k=i(32342);function v(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function g(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?v(Object(i),!0).forEach((function(n){a()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var f={clear:"both"},S={clear:"both",width:"100%"},N=function(e){var n,i,t=e.layoutGroup,a=e.postBodyInserts,l=(0,u.I)(),r=t.styleGroups[0].paragraphViewModels[0].richTextStyle,d=t.styleGroups.map((function(e,n){var i=n<3;return o.createElement(s.ZQ,{key:n,styleGroup:e,postBodyInserts:a,loading:i?m.K.EAGER:m.K.LAZY})}));if((0,k.jH)(r)||"INLINE"===r)return o.createElement(o.Fragment,null,d);switch(t.effectiveLayout){case"OUTSET_CENTER":case"OUTSET_ROW":return o.createElement("div",{className:l(f)},o.createElement(c.P,{size:{xs:"full",sm:"full",md:"full",lg:"outset",xl:"outset"}},d));case"FULL_WIDTH":return o.createElement("div",{className:l(S)},d);default:return"FULL_PAGE"===r?o.createElement(c.P,{size:"app"},d):o.createElement("div",{className:l((n=t.effectiveLayout,i={boxSizing:"border-box",margin:"0 auto",width:"100%"},"INSET_CENTER"===n?g(g({},i),{},{maxWidth:"700px",padding:"0 1.25em"}):i))},d)}},h=o.memo(N),y=i(98096),x=i(31889),b={":after":{display:"block",content:'""',clear:"both"}},E=i(46696),F=i(3207);function w(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function P(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?w(Object(i),!0).forEach((function(n){a()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var _=function(){return{display:"table-cell",paddingBottom:"32px",verticalAlign:"bottom"}};function T(e){var n,i,t,a,r=e.bgImage,d=e.children,s=e.isFullPage,m=e.paragraphName,c=(0,u.I)(),p=(0,x.F)();return r&&r.id&&s?o.createElement(l.TA,{name:m,type:"bgimage"},o.createElement("div",{className:c((n=r,i=n.id,t=n.originalWidth,a=n.originalHeight,function(){var e=[400,600,800,1e3,1200,1400,1600,1800,2e3],n={miroId:i,strategy:E._S.Resample,verticalGradient:{start:29,end:81,opacity:40}},o=e.reduce((function(i,o,l){var r=(0,E.W6)(P(P({},n),{},{width:o,height:o/t*a}));return l===e.length-1?(i.backgroundImage="url(".concat(r,")"),i):(i["@media (min-width: ".concat(o,"px)")]={backgroundImage:"url(".concat(r,")")},i)}),{});return P({backgroundColor:"rgba(0, 0, 0, 0.9)",backgroundPosition:"50% 50%",backgroundSize:"cover",display:"table",minHeight:"100vh",width:"100%"},o)}))},o.createElement("div",{className:c(_)},o.createElement(y.f,{theme:(0,F.GV)(p)},d)))):d}var I=function(e){var n=e.paragraphViewModels,i=e.postBodyInserts,t=e.section,a=(0,u.I)();if(0===n.length)return null;var l=function(e){var n=[],i=[];e.forEach((function(e){var t=function(e,n){switch(n){case p.ms.INSET_LEFT:case p.ms.OUTSET_LEFT:return"IMG"===e||"IFRAME"===e?p.ms.INSET_CENTER:n;case p.ms.OUTSET_ROW_CONTINUE:return p.ms.OUTSET_ROW;default:return n||p.ms.INSET_CENTER}}(e.paragraphStyle,e.paragraph.layout),a=n[n.length-1];if(a&&a.effectiveLayout===t)i.push(e);else{if(a){var o,l=(0,s.lD)(i);(o=a.styleGroups).push.apply(o,d()(l))}i.length=0,i.push(e),n.push({styleGroups:[],effectiveLayout:t})}}));var t=n[n.length-1];if(t){var a,o=(0,s.lD)(i);(a=t.styleGroups).push.apply(a,d()(o))}return n}(n),r=function(e){switch(e){case"SERIES":return{paddingTop:"32px",paddingBottom:"32px",margin:"auto 0",width:"100%"};case"STREAM":case"CARD":case"FULL_PAGE":case"INLINE":return{wordBreak:"break-word",wordWrap:"break-word"};default:return{}}}(n[0].richTextStyle);return o.createElement("div",{className:a([r,b])},o.createElement(T,{bgImage:t.backgroundImage,isFullPage:"FULL_PAGE"===n[0].richTextStyle,paragraphName:n[0].paragraph.name},l.map((function(e,n){return o.createElement(h,{key:n,layoutGroup:e,postBodyInserts:i})}))))}},36299:(e,n,i)=>{"use strict";i.d(n,{J8:()=>p,Uw:()=>c,mW:()=>m});var t=i(319),a=i.n(t),o=i(94078),l=i(79987),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"HighlighSegmentContext_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphRefsMapContext_paragraph"}}]}}].concat(a()(l.p.definitions))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ActiveSelectionContext_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SelectionMenu_highlight"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"SelectionMenu_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ActiveSelectionContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SelectionMenu_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNewNoteCard_post"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"SelectionMenu_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedVersion"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowNotes"}}]}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNewNoteCard_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedVersion"}}]}}]))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InteractivePostBody_postPreview"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extendedPreviewContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"truncationConfig"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"previewParagraphsWordCountThreshold"},value:{kind:"IntValue",value:"400"}},{kind:"ObjectField",name:{kind:"Name",value:"minimumWordLengthForTruncation"},value:{kind:"IntValue",value:"150"}},{kind:"ObjectField",name:{kind:"Name",value:"truncateAtEndOfSentence"},value:{kind:"BooleanValue",value:!0}},{kind:"ObjectField",name:{kind:"Name",value:"showFullImageCaptions"},value:{kind:"BooleanValue",value:!0}},{kind:"ObjectField",name:{kind:"Name",value:"shortformPreviewParagraphsWordCountThreshold"},value:{kind:"IntValue",value:"30"}},{kind:"ObjectField",name:{kind:"Name",value:"shortformMinimumWordLengthForTruncation"},value:{kind:"IntValue",value:"30"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}}]}},{kind:"Field",name:{kind:"Name",value:"isFullContent"}}]}}]}}].concat(a()(o.Pk.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InteractivePostBody_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"HighlighSegmentContext_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NormalizeHighlights_paragraph"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowNotes"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_creator"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ActiveSelectionContext_post"}}]}}].concat(a()(o.Pk.definitions),a()(r.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"NormalizeHighlights_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]),a()(o.v.definitions),a()(s.definitions))},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InteractivePostBody_quote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ActiveSelectionContext_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"HighlighSegmentContext_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NormalizeHighlights_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_highlight"}}]}}].concat(a()(d.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"HighlighSegmentContext_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"userId"}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"NormalizeHighlights_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}}]),a()(o.XV.definitions))},p={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"InteractivePostBodyQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"showNotes"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"highlights"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_quote"}}]}},{kind:"Field",name:{kind:"Name",value:"privateNotes"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"showNotes"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_privateNote"}}]}}]}}]}}].concat(a()(u.definitions),a()(o.w6.definitions))}},7834:(e,n,i)=>{"use strict";i.d(n,{b:()=>E});var t=i(67154),a=i.n(t),o=i(63038),l=i.n(o),r=i(38460),d=i(67294),s=i(38882),m=i(75119),c=i(58730),u=i(10374),p=i(90504),k=i(83363),v=i(59713),g=i.n(v),f=i(39202);function S(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function N(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?S(Object(i),!0).forEach((function(n){g()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function h(e,n,i){if(!e||"number"!=typeof n||"number"!=typeof i)return null;var t=n,a=i;return e.substr(t,a-t)}var y=i(6443),x=i(6402),b=i(36299),E=d.forwardRef((function(e,n){var i,t,o,v=e.isAuroraPostPageEnabled,g=e.post,S=e.inlinePost,E=e.postBodyInserts,F=e.richTextStyle,w=e.markedUpBodyModel,P=e.shouldHideHighlightAnnotations,_=(0,y.H)().value,T=S&&!g?w||(null==S||null===(i=S.extendedPreviewContent)||void 0===i?void 0:i.bodyModel):null==g||null===(t=g.content)||void 0===t?void 0:t.bodyModel,I={creator:null==g?void 0:g.creator,isAuroraPostPageEnabled:v,postBodyInserts:E,ref:n,richTextStyle:F||"FULL_PAGE",postId:(null==g?void 0:g.id)||""},O=g&&g.creator&&g.creator.allowNotes||!1,C=(0,r.t)(b.J8,{ssr:!1,variables:{postId:(null==g?void 0:g.id)||"",showNotes:O},notifyOnNetworkStatusChange:!0}),D=l()(C,2),R=D[0],A=D[1],M=A.called,B=A.data,L=null==B?void 0:B.post;if(d.useEffect((function(){g&&!M&&R()}),[g]),!T)return x.k.error("Expected post to have content or preview content."),null;var V=(null==g||null===(o=g.content)||void 0===o?void 0:o.bodyModel)&&(null==g?void 0:g.content.bodyModel.paragraphs)||[],j=function(e,n){return e&&n?e.map((function(e){var i=e.endOffset,t=e.startOffset,a=e.paragraphs&&e.paragraphs[0],o=function(e,n){return e?n.find((function(n){var i=n.name;return e===i})):null}(a.name,n);if(!a||!o)return null;var l=h(a.text,t,i),r=h(o.text,t,i);if(!l||!r)return null;if(l===r)return e;var d=o.text?o.text.indexOf(l):null;if("number"!=typeof d||d<0)return null;var s=d+l.length;return N(N({},e),{},{endOffset:s,startOffset:d})})).filter(f.b):e}(L&&L.highlights||[],V),U=L&&L.privateNotes||null;return d.createElement(u.yb,null,d.createElement(m.K,null,d.createElement(c.M,{interactivePost:g,highlights:j,disableSelection:!g},d.createElement(k.U,{highlights:j,paragraphs:V,viewer:_},d.createElement(s.c.Provider,{value:!0},d.createElement(p.y,a()({},I,{bodyModel:T,highlights:j,privateNotes:U,shouldHideHighlightAnnotations:P})))))))}))},90504:(e,n,i)=>{"use strict";i.d(n,{y:()=>J});var t=i(67154),a=i.n(t),o=i(319),l=i.n(o),r=i(67294),d=i(33380),s=i(14646),m={display:"flex",justifyContent:"center",marginTop:"32px",marginBottom:"14px",paddingTop:"24px",paddingBottom:"10px"},c=function(e){return{backgroundColor:e.colorTokens.foreground.neutral.primary.hover,borderRadius:"50%",display:"inline-block",height:"3px",width:"3px"}},u={marginRight:"20px"};function p(){var e=(0,s.I)();return r.createElement("div",{className:e(m),role:"separator"},r.createElement("span",{className:e([c,u])}),r.createElement("span",{className:e([c,u])}),r.createElement("span",{className:e(c)}))}var k=i(41135),v=i(63038),g=i.n(v),f=i(50008),S=i.n(f),N=i(23450),h=i.n(N),y=i(17193),x=i(77355),b=i(8431),E=i(31889),F=i(34135);function w(e){var n=e.grid.xStep;return{padding:"".concat(3*n,"px ").concat(4*n,"px ").concat(3*n,"px"),width:"400px"}}function P(e){var n=e.close,i=e.users,t=(0,s.I)(),a=r.useRef(null),o=(0,E.F)(),l=o.grid.xStep;return r.useEffect((function(){function e(){var e=a.current;if(e&&e.getBoundingClientRect){var i=e.getBoundingClientRect(),t=i.bottom,l=i.top<0||t>window.innerHeight,r=window.innerWidth<o.breakpoints.xl;(l||r)&&n()}}return F.V6.on("scroll_end",e),F.V6.on("resize_throttled",e),function(){F.V6.off("scroll_end",e),F.V6.off("resize_throttled",e)}}),[]),r.createElement("section",{ref:a,className:t(w)},r.createElement(x.x,{borderBottom:"BASE_LIGHTER",marginBottom:"-".concat(l,"px"),paddingBottom:"".concat(2*l,"px")},r.createElement(b.Lh,null,"Highlights (".concat(i.length,")"))),r.createElement(x.x,{marginLeft:"3px"},i.length&&i.map((function(e){return r.createElement(x.x,{display:"inline-block",key:e.id,marginTop:"".concat(5*l,"px"),marginRight:"".concat(5*l,"px"),width:"".concat(8*l,"px")},r.createElement(y.Yt,{hasPopover:!0,link:!0,user:e,scale:"XS"}))}))))}var _=r.memo(P),T=i(83363),I=i(69217),O=i(60748),C=i(25267),D=i(61095),R=i(66227),A=i(87691),M=i(29746),B=i(39202);function L(){return{border:"none",cursor:"pointer",display:"block",padding:"0px",textAlign:"left",width:"100%"}}function V(){return{left:"100%",position:"absolute",top:0}}function j(e,n){return{marginTop:"6px",maxWidth:"100%",position:"absolute",top:"".concat(e-(n||0),"px"),whiteSpace:"nowrap",width:"100%"}}function U(e){return{marginLeft:"auto",marginRight:"auto",maxWidth:"".concat((0,M.G)(e,8,!0),"px"),position:"relative"}}function W(){return{display:"inline-block",maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}function H(e,n){return"number"==typeof e.startOffset&&"number"==typeof n.startOffset?e.startOffset<n.startOffset?-1:1:-1}function G(e,n){var i=n.startOffset,t=n.endOffset,a=n.paragraphs[0].name;if(!a||"number"!=typeof i||"number"!=typeof t)return e;var o=!1,l=e[a]||[];return l.length&&(l=l.map((function(e){var a=i<=e.endOffset+1,l=e.startOffset,r=e.endOffset;return a&&(o=!0,e.highlights.push(n),r=Math.max(t,e.endOffset),l=Math.min(i,e.startOffset)),{highlights:e.highlights,endOffset:r,startOffset:l}}))),o||l.push({highlights:[n],endOffset:t,startOffset:i}),e[a]=l,e}function z(e){var n=e.children,i=e.highlightString,t=e.toggle,a=(0,s.I)();return"Top highlight"===i?r.createElement(r.Fragment,null,n):r.createElement("button",{className:a(L),onClick:function(){return t()},onMouseDown:function(e){return e.preventDefault()}},n)}function Y(e){var n=e.creator,i=e.positionMap,t=e.yPosOffset,a=e.viewerEdge,o=(0,s.I)();if("number"!=typeof t)return null;var l=Array.from(i.entries());return r.createElement(C.I,{nonBlocking:!0},(function(e){return r.createElement(r.Fragment,null,l.map((function(i,l){var d=g()(i,2),s=d[0],m=d[1],c=function(e,n,i,t){var a=null==t?void 0:t.isFollowing;if(1===e.length){if("anon"===e[0].userId)return"Top highlight";if(!n)return null;if(i&&i.id===e[0].userId&&n.id!==i.id&&!a)return null;if(n&&n.id===e[0].userId)return"You highlighted";if(e[0].user&&e[0].user.name)return e[0].user.name}var o=[];if(e.forEach((function(e){if(e.user){var t=n&&n.id===e.userId,l=e.user.name,r=i&&i.id===e.userId&&(!n||n.id!==i.id&&!a);t?o.length&&"You"===o[0]||o.unshift("You"):r||!l||o.includes(l)||o.push(l)}})),!o.length)return"Top highlight";if(1===o.length)return"You"===o[0]?"You highlighted":o[0];if(2===o.length)return"".concat(o[0]," and ").concat(o[1]);var l=o.slice(0,2),r=o.length-l.length;return"".concat(l[0],", ").concat(l[1],", and ").concat(r," ").concat(h()("other",r))}(m,e,n,a);return c?r.createElement("div",{className:o(j(s,t)),key:l},r.createElement(R.B,null,(function(e){var n=e.isVisible,i=e.hide,t=e.toggle;return r.createElement(r.Fragment,null,r.createElement(z,{toggle:t,highlightString:c},r.createElement(A.F,{scale:"S"},r.createElement("span",{className:o(W)},c))),n&&r.createElement(I.G,{boundariesElement:"document",isVisible:!0,hide:i,placement:"right",popoverRenderFn:function(){var e=new Set,n=m.map((function(n){var i=n.user;return i&&i.id&&!e.has(i.id)?(e.add(i.id),i):null})).filter(B.b);return r.createElement(_,{close:i,users:n})}},r.createElement(r.Fragment,null)))}))):null})))}))}var Z=r.forwardRef((function(e,n){var i=e.creator,t=e.highlights,a=r.useContext(T.V).highlightSegments,o=r.useRef(null),d=r.useState(null),m=g()(d,2),c=m[0],u=m[1],p=(0,s.I)(),k=(0,E.F)(),v=r.useState(null),f=g()(v,2),N=f[0],h=f[1],y=r.useState(null),b=g()(y,2),w=b[0],P=b[1],_=(0,D.Pd)(i).viewerEdge;return r.useEffect((function(){var e=function(){var e=function(e,n,i){var t=new Map;if(e.size&&n.length){var a=function(e){var n=l()(e).sort(H).reduce(G,{});return Object.values(n).reduce((function(e,n){return n&&"object"===S()(n)&&n.length?(e.push.apply(e,l()(n)),e):e}),[])}(n),o=[];a.forEach((function(n){var a=n.highlights[0],l=a.paragraphs[0].name;if(a&&"number"==typeof a.startOffset&&l){var r=e.get("".concat(l,"_").concat(a.startOffset));if(r&&r.ref&&r.ref.current){var d,s=r.ref.current.getBoundingClientRect().top+window.pageYOffset;o.length&&(d=o.find((function(e){return s<e+i.newFonts.body.lineHeight.M&&s>e||s>e-i.newFonts.body.lineHeight.M&&s<e})));var m=d||s,c=t.get(m)||[];c.length||o.push(m);var u=c.concat(n.highlights);u.length&&t.set(m,u)}}}))}return t}(a,t,k);if(u(e),"function"!=typeof n&&null!=n&&n.current&&P(n.current.offsetTop),null!=o&&o.current){var i=o.current.getBoundingClientRect().left,r=window.innerWidth-i-8*k.grid.xStep;h(r)}};F.V6.on("resize_throttled",e);var i=(0,O.x)((function(n){"iframe.resize"!==n.context&&"player.js"!==n.context||e()})).destructor;return e(),function(){F.V6.off("resize_throttled",e),i()}}),[t,a]),r.createElement("div",{className:p(U)},r.createElement(x.x,{display:"block",xs:{display:"none"},sm:{display:"none"},md:{display:"none"},lg:{display:"none"},speechifyIgnore:!0},r.createElement("aside",{className:p(V),ref:o,style:{width:N?"".concat(N,"px"):void 0}},c&&r.createElement(Y,{creator:i,highlights:t,positionMap:c,yPosOffset:w,width:N,viewerEdge:_}))))})),K=r.memo(Z),q=i(75119);function X(e,n){var i;return Object.keys(e).some((function(t){return!!e[t].find((function(e){return e.insertType===n}))&&(i=t,!0)})),i}var Q=i(32342),J=r.forwardRef((function(e,n){var i,t,o=e.bodyModel,m=e.creator,c=e.highlights,u=e.isAuroraPostPageEnabled,v=e.privateNotes,g=e.postBodyInserts,f=e.richTextStyle,S=void 0===f?"FULL_PAGE":f,N=e.shouldHideHighlightAnnotations,h=void 0!==N&&N,y=(0,s.I)(),x=r.createRef(),b=null===(i=r.useContext(d.u6).watchedBounds.get("byline"))||void 0===i||null===(t=i.ref)||void 0===t?void 0:t.current,E=b?b.offsetTop-48:100,F={position:"absolute",left:0,top:"calc(100vh + ".concat(E,"px)"),bottom:"calc(100vh + ".concat(100,"px)"),width:"10px",pointerEvents:"none"},w=(0,q.Z)().privateNoteSelection,P=r.useMemo((function(){return c&&w?[].concat(l()(c),[w]):c}),[c,w]),_=g?function(e){return X(e,"BYLINE")}(g):void 0,T=g?function(e){return X(e,"METER")}(g):void 0,I=r.useMemo((function(){return(0,Q.fj)(o,{bylineParagraphName:_,meterParagraphName:T,highlights:P,isAuroraPostPageEnabled:u,isPostPage:!0,privateNotes:v,richTextStyle:S})}),[o,P,v,S]),O=g&&g.first;return r.createElement("section",{ref:n},r.createElement("div",{ref:x},r.createElement(r.Fragment,null,r.createElement(d.TA,{name:"ghost-track",type:"ghost",className:y(F)}),"FULL_PAGE"===S&&c&&c.length>0&&!h&&r.createElement(K,{creator:m,highlights:l()(c),ref:n}),!!O&&O.map((function(e,n){return e.component?r.createElement("div",{key:"postBodyInsertFirst_".concat(n)},e.component):null}))),I.map((function(e,n){if("HR"===e){var i,t,o=I[n-1],l=I[n+1],d="HR"!==o&&(null==o||null===(i=o.section)||void 0===i?void 0:i.backgroundImage),s="HR"!==l&&(null==l||null===(t=l.section)||void 0===t?void 0:t.backgroundImage);return d||s?null:r.createElement(p,{key:n})}return r.createElement(k.b,a()({key:e.section.name||n,postBodyInserts:g},e))}))))}))},23515:(e,n,i)=>{"use strict";i.d(n,{S:()=>l});var t=i(319),a=i.n(t),o=i(84130),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPageBookmarkButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBookmarkButton_post"}}]}}].concat(a()(o.G.definitions))}},31228:(e,n,i)=>{"use strict";i.d(n,{R:()=>s});var t=i(319),a=i.n(t),o=i(10654),l=i(8045),r=i(51277),d=i(23515),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterActionsBar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSharePopover_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPageBookmarkButton_post"}}]}}].concat(a()(o.x.definitions),a()(l.G.definitions),a()(r.v.definitions),a()(d.S.definitions))}},8045:(e,n,i)=>{"use strict";i.d(n,{G:()=>s});var t=i(319),a=i.n(t),o=i(4088),l=i(98007),r=i(97282),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FriendLink_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useCopyFriendLink_post"}}]}}].concat(a()(l.qU.definitions),a()(r.N.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSharePopover_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLink_post"}}]}}].concat(a()(o.u.definitions),a()(d.definitions))}},14538:(e,n,i)=>{"use strict";i.d(n,{A:()=>m});var t=i(319),a=i.n(t),o=i(52831),l=i(76075),r=i(33960),d=i(19830),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PagedThreadedPostResponses_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StoryResponse_threadedStoryResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_threadedSimpleResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_threadedSimpleResponse_defaultPostResponses"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseHeader_post"}}]}}].concat(a()(l.tt.definitions),a()(r.Df.definitions),a()(r.K5.definitions),a()(d.FN.definitions))},m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PagedThreadedPostResponsesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postResponsesPaging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sortType"}},type:{kind:"NamedType",name:{kind:"Name",value:"ResponseSortType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CloseDiscussion_post"}},{kind:"Field",name:{kind:"Name",value:"responsesCount"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"responseRootPost"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"responseDepth"}}]}},{kind:"Field",name:{kind:"Name",value:"threadedPostResponses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"postResponsesPaging"}}},{kind:"Argument",name:{kind:"Name",value:"sortType"},value:{kind:"Variable",name:{kind:"Name",value:"sortType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"autoExpandedPostIds"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"to"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"posts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PagedThreadedPostResponses_post"}}]}}]}}]}}]}}].concat(a()(o.Z.definitions),a()(s.definitions))}},28272:(e,n,i)=>{"use strict";i.d(n,{y:()=>d});var t=i(319),a=i.n(t),o=i(62236),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedReplies_post"}}]}}].concat(a()(o.e9.definitions))},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"}}]}}].concat(a()(l.definitions))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WithResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"}}]}}].concat(a()(r.definitions))}},35194:(e,n,i)=>{"use strict";i.d(n,{k:()=>w});var t=i(63038),a=i.n(t),o=i(67294),l=i(6722),r=i(43242),d=i(80745),s=i(87757),m=i.n(s),c=i(6479),u=i.n(c),p=i(48926),k=i.n(p),v=i(38460),g=i(68356),f=i.n(g),S=i(76412),N=i(18733),h=i(66411),y=i(50742),x=i(75221),b=i(14538),E=f()({loading:function(){return null},loader:function(){return Promise.all([i.e(7084),i.e(5459),i.e(6804),i.e(8883),i.e(6318),i.e(513),i.e(8913)]).then(i.bind(i,41469))},modules:["./ThreadedResponsesSidebarContent"],webpack:function(){return[41469]},render:(0,y.n)("ThreadedResponsesSidebarContent")}),F=function(e){var n,i,t,l,r,s,c,p,g,f=e.isResponsesSidebarVisible,y=e.inResponseToQuote,F=e.setInResponseToQuote,w=e.parentPost,P=e.continueThisThreadPost,_=e.continueThisThreadPostDepth,T=e.showPreviousSidebar,I=e.cleanupSidebar,O=e.initialSidebarRender,C=e.responsesSort,D=C?x.sV[C]:void 0,R=o.useState(D||x.sV.TOP),A=a()(R,2),M=A[0],B=A[1],L=o.useState(!1),V=a()(L,2),j=V[0],U=V[1],W=o.useRef(null),H=(0,v.t)(b.A,{variables:{postId:w.id,postResponsesPaging:{limit:d.p4},sortType:M},ssr:!1}),G=a()(H,2),z=G[0],Y=G[1],Z=Y.called,K=Y.loading,q=Y.data,X=Y.fetchMore;Z||P||!f||(z(),E.preload());var Q=null==q||null===(n=q.post)||void 0===n?void 0:n.responsesLocked,J=null==q||null===(i=q.post)||void 0===i?void 0:i.isLockedResponse,$=(0,d.aj)(f,O,null==q||null===(t=q.post)||void 0===t?void 0:t.threadedPostResponses,P),ee=$.responses,ne=$.showCreateReplyEditor,ie=(null==q||null===(l=q.post)||void 0===l||null===(r=l.responseRootPost)||void 0===r||null===(s=r.post)||void 0===s?void 0:s.id)||"",te=_||(null==q||null===(c=q.post)||void 0===c||null===(p=c.responseRootPost)||void 0===p?void 0:p.responseDepth)||0,ae=void 0,oe=null==ee||null===(g=ee.pagingInfo)||void 0===g?void 0:g.next;return oe&&!P&&(ae=function(){var e=k()(m().mark((function e(){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=5;break}return oe.__typename,n=u()(oe,["__typename"]),e.next=4,X({variables:{postId:w.id,postResponsesPaging:n}});case 4:U(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),o.createElement(N.N8,null,o.createElement(h.cW,{source:{name:"responses",postId:w.id},extendSource:!0},o.createElement(S.I,{sidebarRef:W,cleanupSidebar:I,isResponsesSidebarVisible:f,pagingInfoNext:oe,isFetchingNextSetOfResponses:j,setIsFetching:U,fetchMoreWithArguments:ae,initialSidebarRender:O},(function(e){var n=e.responseDistribution,i=e.setResponseDistribution,t=e.closeSidebar;return Z||P?o.createElement(E,{responses:ee,parentPost:w,responsesLocked:Q,isLockedResponse:J,isLoadingInitialContent:K,isFetchingNextSetOfResponses:j,isResponsesSidebarVisible:f,closeSidebar:t,showPreviousSidebar:T,inResponseToQuote:y,setInResponseToQuote:F,sidebarRef:W,responseDistribution:n,setResponseDistribution:i,responseSortType:M,setResponseSortType:B,rootPostId:ie,postDepth:te,isContinueThisThread:!!P,showCreateReplyEditor:ne}):null}))))},w=function(e){var n=e.children,i=e.post,t=(0,o.useState)(void 0),s=a()(t,2),m=s[0],c=s[1],u=(0,o.useCallback)((function(e){return function(n){c(n),e()}}),[]);return o.createElement(r.E,null,(function(e){var t=e.showPreviousSidebar,a=e.hasLoaded,r=e.initialSidebarRender,s=e.isVisible,p=e.continueThisThreadPosts,k=e.openSidebar,v=e.cleanupSidebar,g=e.responseSortOption;return o.createElement(l.Q.Provider,{value:{openSidebarToRespondToHighlight:u(k)}},!!i&&a&&o.createElement(F,{isResponsesSidebarVisible:s&&0===p.length,parentPost:i,inResponseToQuote:m,setInResponseToQuote:c,showPreviousSidebar:t,cleanupSidebar:v,initialSidebarRender:!!r.current,responsesSort:g}),!!i&&a&&p.map((function(e,n,a){var l=(0,d.iI)(n);return o.createElement(F,{key:i.id,isResponsesSidebarVisible:s&&n===a.length-1,parentPost:i,inResponseToQuote:m,setInResponseToQuote:c,continueThisThreadPost:e,continueThisThreadPostDepth:l,showPreviousSidebar:t,cleanupSidebar:v,initialSidebarRender:!!r.current,responsesSort:g})})),n)}))}},52831:(e,n,i)=>{"use strict";i.d(n,{Z:()=>a,EI:()=>o,Fe:()=>l,eS:()=>r});var t=i(319),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CloseDiscussion_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"responsesLocked"}},{kind:"Field",name:{kind:"Name",value:"isLockedResponse"}}]}}]},o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FetchPostResponsesLockedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CloseDiscussion_post"}}]}}]}}].concat(i.n(t)()(a.definitions))},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LockResponsesOnPostMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lockResponsesOnPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]},r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockResponsesOnPostMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockResponsesOnPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]}},76412:(e,n,i)=>{"use strict";i.d(n,{I:()=>f});var t=i(63038),a=i.n(t),o=i(15303),l=i(67294),r=i(82186),d=i(80745),s=i(14646),m=i(75221),c=i(59713),u=i.n(c),p=i(97489),k=function(e,n,i){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"white";return function(a){var o=n?"0.6s":"0s";return u()({width:i,position:"fixed",zIndex:520,backgroundColor:t,left:"100%",top:"0px",height:"100%",boxSizing:"border-box",overflow:"auto","-ms-overflow-style":"-ms-autohiding-scrollbar",boxShadow:"rgba(0, 0, 0, 0.15) 0px 4px 12px",opacity:1,transform:e?"translateX(-".concat(i,")"):"translateX(0px)",transition:"transform ".concat(o," cubic-bezier(0.23, 1, 0.32, 1) 0s, opacity ").concat(o," cubic-bezier(0.23, 1, 0.32, 1) 0s"),visibility:e?"visible":"hidden"},(0,p.sm)(a),{left:0,width:"100%",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",transform:e?"translateY(30px)":"translateY(100%)","-webkit-overflow-scrolling":"touch"})}},v=function(e){var n={top:"0px",left:"0px",width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.08)",zIndex:510,cursor:"pointer",opacity:0,pointerEvents:"none"};return e&&(n.transition="opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s"),n},g={"@media print":{display:"none"}},f=function(e){var n=e.cleanupSidebar,i=e.children,t=e.isResponsesSidebarVisible,c=e.pagingInfoNext,u=e.isFetchingNextSetOfResponses,p=e.setIsFetching,f=e.fetchMoreWithArguments,S=e.initialSidebarRender,N=e.sidebarRef,h=(0,s.I)(),y=l.useRef(null),x=l.useState(null),b=a()(x,2),E=b[0],F=b[1],w=l.useState(m.Et.NOT_DISTRIBUTED),P=a()(w,2),_=P[0],T=P[1];l.useEffect((function(){var e=y.current;if(e&&t){if(!E){var n=(0,o.v)(e,{initialFocus:e,fallbackFocus:e,preventScroll:!0,allowOutsideClick:function(e){var n;return!(null===(n=e.target)||void 0===n||!n.closest("reach-portal"))}});n.activate(),F(n)}return function(){E&&(E.deactivate(),F(null))}}}),[y.current,E,F,t]);var I,O=l.useCallback((function(){T(m.Et.NOT_DISTRIBUTED),n()}),[n]);return l.createElement("div",{className:h(g),role:"dialog","aria-modal":"true",ref:y,tabIndex:-1},l.createElement("div",{className:h([v(S),(I=t,I?{opacity:1,pointerEvents:"all"}:{})]),onClick:O,onKeyUp:function(e){13===e.keyCode&&O()},"aria-hidden":!t,role:"presentation"}),l.createElement("div",{className:h([k(t,S,r.ZR)]),"aria-hidden":!t,onScroll:function(e){return(0,d.vL)(e,c,u,p,f)},ref:N},i({responseDistribution:_,setResponseDistribution:T,closeSidebar:O})))}},97282:(e,n,i)=>{"use strict";i.d(n,{N:()=>l,I:()=>r});var t=i(319),a=i.n(t),o=i(4088),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useCopyFriendLink_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}}]}}].concat(a()(o.u.definitions))},r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePostShareKeyMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPostShareKey"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostShareKey"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"}}]}}]}}]}}]}},55193:(e,n,i)=>{"use strict";i.d(n,{v:()=>t,Q:()=>a});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SuspendedBannerLoader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isSuspended"}}]}}]},a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SuspendedBannerLoader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isSuspended"}}]}}]}},66018:(e,n,i)=>{"use strict";i.d(n,{L:()=>r});var t=i(67294),a=i(27517),o=i(25735),l=i(78285),r=function(e){var n=e.user,i=e.post,r=e.forceLoad,d=void 0!==r&&r,s=(0,a.I0)(),m=(0,o.V)({name:"can_view_suspended_content",placeholder:!1})||d;return t.useEffect((function(){m&&(n&&n.isSuspended?s((0,l.Dx)({duration:"NEXTPAGE",toastStyle:"USER_SUSPENDED"})):i&&i.isSuspended&&s((0,l.Dx)({duration:"NEXTPAGE",toastStyle:"POST_SUSPENDED",extraParams:{postId:(null==i?void 0:i.id)||""}})))}),[m]),null}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/PostPage.MainContent.cb3ba1c5.chunk.js.map